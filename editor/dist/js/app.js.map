{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?712b","webpack:///./src/helpers/config-effect.js","webpack:///./src/helpers/rest-api-http-client.js","webpack:///./src/models/model.js","webpack:///./src/helpers/datetime.js","webpack:///./src/services/node-factory.js","webpack:///./src/models/condition.js","webpack:///./src/services/tree-manager.js","webpack:///./src/helpers/node-mixin.js","webpack:///./src/components/workflows/nodes/TriggerNode.vue","webpack:///./src/components/workflows/nodes/TriggerNode.vue?3f63","webpack:///./src/components/workflows/nodes/ActionNode.vue","webpack:///./src/components/workflows/nodes/ActionNode.vue?3c15","webpack:///./src/components/workflows/nodes/AssignNode.vue","webpack:///./src/components/workflows/nodes/AssignNode.vue?4c22","webpack:///./src/helpers/store-effect.js","webpack:///./src/components/workflows/nodes/ConditionNode.vue","webpack:///./src/components/workflows/nodes/ConditionNode.vue?4966","webpack:///./src/components/workflows/nodes/ConditionBranchNode.vue","webpack:///./src/components/workflows/nodes/ConditionBranchNode.vue?49a4","webpack:///./src/components/workflows/nodes/EmptyNode.vue","webpack:///./src/components/workflows/nodes/EmptyNode.vue?a5bb","webpack:///./src/helpers/strings.js","webpack:///./src/components/workflows/settings/TriggerSettings.vue","webpack:///./src/components/workflows/settings/TriggerSettings.vue?7e83","webpack:///./src/components/workflows/settings/ActionSettings.vue","webpack:///./src/components/workflows/settings/ActionSettings.vue?363f","webpack:///./src/components/workflows/settings/AssignSettings.vue","webpack:///./src/components/workflows/settings/AssignSettings.vue?e2c5","webpack:///./src/components/workflows/settings/ConditionSettings.vue","webpack:///./src/components/workflows/settings/ConditionSettings.vue?c077","webpack:///./src/components/workflows/settings/ConditionBranchSettings.vue","webpack:///./src/components/workflows/settings/ConditionBranchSettings.vue?98db","webpack:///./src/components/workflows/common/OutputsViewer.vue","webpack:///./src/components/workflows/common/OutputsViewer.vue?a4ee","webpack:///./src/models/type.js","webpack:///./src/models/output.js","webpack:///./src/components/workflows/common/ErrorsViewer.vue","webpack:///./src/components/workflows/common/ErrorsViewer.vue?b461","webpack:///./src/models/node.js","webpack:///./src/models/workflow.js","webpack:///./src/services/workflows-repository.js","webpack:///./src/helpers/loading-effect.js","webpack:///./src/helpers/notify-effect.js","webpack:///./src/components/workflows/WorkflowsListing.vue","webpack:///./src/components/workflows/WorkflowsListing.vue?5e80","webpack:///./src/helpers/focus-effect.js","webpack:///./src/components/workflows/nodes/NewNode.vue","webpack:///./src/components/workflows/nodes/NewNode.vue?c727","webpack:///./src/components/workflows/WorkflowEditorCanvas.vue","webpack:///./src/components/workflows/WorkflowEditorCanvas.vue?2459","webpack:///./src/components/workflows/WorkflowEditor.vue","webpack:///./src/components/workflows/WorkflowEditor.vue?5b83","webpack:///./src/components/workflows/WorkflowLog.vue","webpack:///./src/components/workflows/WorkflowLog.vue?3a2b","webpack:///./src/components/common/NotificationsCenter.vue","webpack:///./src/components/common/NotificationsCenter.vue?dc3a","webpack:///./src/components/common/JsonEditor.vue","webpack:///./src/components/common/JsonEditor.vue?2e2e","webpack:///./src/components/misc/Reminders.vue","webpack:///./src/components/misc/Reminders.vue?d5a9","webpack:///./src/App.vue","webpack:///./src/App.vue?6697","webpack:///./src/components/workflows/common/ErrorWrapper.vue","webpack:///./src/components/workflows/common/ErrorWrapper.vue?177c","webpack:///./src/components/workflows/common/ParametersComposer.vue","webpack:///./src/components/workflows/common/ParametersComposer.vue?7686","webpack:///./src/components/workflows/WorkflowNodeSettings.vue","webpack:///./src/components/workflows/WorkflowNodeSettings.vue?8f57","webpack:///./src/components/workflows/WorkflowImport.vue","webpack:///./src/components/workflows/WorkflowImport.vue?c3b2","webpack:///./src/components/misc/WhatsNew.vue","webpack:///./src/components/misc/WhatsNew.vue?cee1","webpack:///./src/components/misc/Integrations.vue","webpack:///./src/components/misc/Integrations.vue?d066","webpack:///./src/routes.js","webpack:///./src/helpers/connections-effect.js","webpack:///./src/components/tree/BlocksTree.vue","webpack:///./src/components/tree/BlocksNode.vue","webpack:///./src/components/tree/BlocksNode.vue?97a1","webpack:///./src/components/tree/BlocksTree.vue?c583","webpack:///./src/components/workflows/common/VariableFinder.vue","webpack:///./src/components/workflows/common/VariableFinder.vue?9ee0","webpack:///./src/directives/variable-finder-trigger.js","webpack:///./src/components/workflows/common/ReferenceInputHelper.vue","webpack:///./src/components/workflows/common/ReferenceInputHelper.vue?4826","webpack:///./src/components/workflows/common/VariableFinderOutput.vue","webpack:///./src/components/workflows/common/VariableFinderOutput.vue?f2d9","webpack:///./src/components/common/Repeatable.vue","webpack:///./src/components/common/Repeatable.vue?01fa","webpack:///./src/components/connections/ConnectionSelector.vue","webpack:///./src/components/connections/ConnectionSelector.vue?df57","webpack:///./src/components/connections/ConnectionInitializer.vue","webpack:///./src/components/connections/ConnectionInitializer.vue?7cdc","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","AppConfig","useConfig","config","restApiHttpClient","axios","baseURL","url","api","base","headers","nonce","Model","constructor","props","this","bootstrap","prop","startsWith","writable","defaultValue","path","split","forEach","part","ex","set","parts","index","getRelativeTime","now","Date","date","isNaN","getTime","locale","navigator","language","diffInMilliSecs","diffInSecs","Math","trunc","absDiffInSecs","abs","formatter","Intl","RelativeTimeFormat","numeric","format","minutes","hours","days","weeks","months","years","NODE_SKELETON_TEMPLATE","node","workflow","uid","generateUid","properties","children","type","_parentNode","_workflow","NodeFactory","Node","isDefault","conditions","branch","nodeType","parent","OPERATORS","label","isUnary","BranchCondition","source","operator","TreeManager","newNode","map","child","parentNode","refresh","indexOf","newBranchCondition","condition","NodeMixin","required","Number","emits","methods","remove","confirm","removeNode","$emit","template","id","String","mixins","setup","triggerEvent","computed","arguments","event","customEvent","triggers","events","triggerSchedule","schedule","schedules","frequency","startsAt","startDate","toLocaleString","triggerWebhook","parameters","webhook","slug","keys","parameterId","join","webhook_url","__exports__","variables","values","NOTIFICATIONS","reactive","ICONS","__proto__","add","title","body","level","notification","icon","color","timeout","setTimeout","STORE","expandedNode","currentActiveNodes","isVariableFinderVisible","notifications","connections","useStore","store","addBranch","addNode","removeBranch","SPECIAL_CHARS","slugify","separator","keepEdge","toString","toLowerCase","replace","RegExp","triggerSchedules","eventGroups","group","triggerTypes","description","actions","actionsGroups","action","nameInput","ref","valueInput","form","variable","addVariable","trim","focus","removeVariable","render","addCondition","addBranchCondition","removeCondition","removeBranchCondition","operators","outputs","Type","HUMAN_NAMES","string","integer","boolean","array","any","TypeDescriptor","describe","entry","field","cast_descriptor","rawDescriptor","cast_properties","rawProperties","rawProperty","Output","cast_type","rawType","rawAttributes","_node","descriptor","_parent","transform","errors","ACTION_COMPONENTS_MAP","EVENT_COMPONENTS_MAP","NODE_TYPES","global","trigger","assign","NodeOutputsExtractor","parameter","output","variableId","globals","outputId","NodeError","message","args","NodeErrorsBag","items","error","NodeErrorsChecker","cast_children","rawChildren","nodesCache","Array","isArray","webhookBaseUrl","TRIGGER_TYPES","TriggerNode","ActionNode","AssignNode","ConditionNode","ConditionBranchNode","EmptyNode","TriggerSettings","ActionSettings","AssignSettings","ConditionSettings","ConditionBranchSettings","OutputsViewer","ErrorsViewer","shallowRef","defineComponent","argument","initialValue","refreshLevel","Workflow","tree","get_node_by_uid","cast_tree","rawTree","created_at","updated_at","last_run_at","next_run_at","duplicate","json","JSON","stringify","regexp","uids","Set","match","replaceAll","parse","enabled","toISOString","_new","copy","isIdenticalTo","jsonOfThis","jsonOfOther","WorkflowsRepository","response","nodeUid","params","node_uid","post","delete","IS_LOADING","IS_LOADED","useLoading","defaultState","loadingState","isLoading","isLoaded","startLoading","stopLoading","useNotifications","notify","router","useRouter","workflows","getAll","async","getWorkflows","duplicatedWorkflow","trash","trashWorkflow","newWorkflowTemplate","defaults","download","blob","Blob","link","document","createElement","href","URL","createObjectURL","click","toggleEnable","updateWorkflow","onMounted","useFocus","initialReset","resetFocus","setFocus","childNode","close","toggle","expanded","components","NewNode","WorkflowEditorCanvas","route","useRoute","originalWorkflow","getFromBackend","getWorkflow","getFromStore","new","save","isSaving","isSaved","startSaving","stopSaving","createWorkflow","retrieve","watch","confirmChanges","onBeforeRouteLeave","onbeforeunload","onUnmounted","isRefreshing","isRefreshed","startRefreshing","stopRefreshing","log","autoRefresh","toggleAutoRefresh","interval","setInterval","fetch","getWorkflowLog","clearInterval","levelTextColors","info","warn","debug","success","levelBackgroundColors","_createElementBlock","_createElementVNode","class","rows","onBlur","$setup","autocomplete","spellcheck","placeholder","$props","_toDisplayString","modelValue","autoFocus","Boolean","default","emit","editor","e","style","onClick","_hoisted_4","target","tabindex","STORE_KEY","DAYS_TO_REVIEW","state","deepmerge","review","collected","last_requested_at","localStorage","getItem","persist","setItem","checkReviewState","postponeReviewModal","collectReviewModal","visible","WorkflowsListing","WorkflowLog","WorkflowEditor","NotificationsCenter","Reminders","JsonEditor","_createBlock","_KeepAlive","_renderSlot","_ctx","inject","newParameterTemplate","validations","addParameter","removeParameter","tab","query","provide","ErrorWrapper","ParametersComposer","dragAndDrop","process","importedWorkflow","dragEnter","dragLeave","drop","file","dataTransfer","files","alert","text","then","content","_hoisted_7","_hoisted_1","onKeyup","_hoisted_5","_hoisted_6","hidden","_hoisted_9","ROUTES","component","WorkflowImport","WhatsNew","Integrations","WorkflowNodeSettings","Connection","ConnectionsService","providers","provider","connectionUid","registerProvider","getProvider","providerId","connectWithProvider","Promise","resolve","reject","connectionDefination","connect","connection","persistConnection","getConnections","getConnection","connectionsService","useConnections","horizontal","collapsable","_createVNode","_component_BlocksNode","label-width","render-content","label-class-name","onNodeExpand","nodeContext","onNodeFocus","onNodeClick","onNodeMouseover","onNodeMouseout","context","width","onMouseout","onMouseover","onFocus","_hoisted_3","_hoisted_2","_Fragment","_renderList","childIndex","_component_blocks_node","renderContent","labelWidth","labelClassName","expand","Function","slots","attrs","expose","isLeaf","nodeClass","innerLabelClass","nodeExpandBtnClass","toggleExpand","onExpandBtnClick","isExpanded","nodeKey","BlocksNode","search","searchInput","inputTriggeredBy","currentNode","currentlyUsedOutputs","show","fromNode","fromInput","single","hide","isOutputUsed","useOutput","endsWith","dispatchEvent","Event","outputFilter","concat","toLocaleLowerCase","subOutputs","subOutput","includes","nodeFilter","filter","getAvailableNodes","nodes","reverse","mounted","$root","variableFinder","checkKeystore","ctrlKey","preventDefault","stopPropagation","instance","VariableFinderTrigger","beforeMount","el","binding","addEventListener","$options","open","$el","querySelector","transformOutput","func","_transform","used","filteredSubOutputs","_normalizeProps","model","reset","sync","item","providerConections","expired_at","compact","classList","getElementById","host","append","cloneNode","attachShadow","appContainer","shadowRoot","app","createApp","App","Mantiq","vue","globalProperties","$config","$store","$http","$rest","$relativeTime","$connections","directive","dragscrollNext","Multiselect","BlocksTree","Repeatable","ReferenceInputHelper","VariableFinder","VariableFinderOutput","draggable","ConnectionSelector","ConnectionInitializer","Connections","ConnectionProvider","wp","hooks","doAction","createRouter","history","createWebHashHistory","routes","use","mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=2625521d&lang=scss\"","const AppConfig = window['AppConfig'] || {};\n\nexport function useConfig() {\n  return AppConfig;\n}\n","import axios from 'axios';\nimport { useConfig } from '@/helpers/config-effect';\n\nconst config = useConfig();\n\nexport const restApiHttpClient = axios.create({\n  baseURL: config.url.api.base,\n  headers: {\n    'X-WP-Nonce': config.url.api.nonce,\n  },\n});\n","export class Model {\n    constructor(props = {}) {\n        this.bootstrap(props);\n        for (const prop in props) {\n            if (this[`cast_${prop}`]) {\n                this[prop] = this[`cast_${prop}`](props[prop], props);\n            } else {\n                if (prop.startsWith('_')) {\n                    Object.defineProperty(\n                        this, prop.slice(1),\n                        {\n                            enumerable: false,\n                            value: props[prop],\n                            writable: true\n                        });\n                } else {\n                    this[prop] = props[prop];\n                }\n            }\n        }\n    }\n\n    bootstrap(props) {\n\n    }\n\n    get(prop, defaultValue = null) {\n        try {\n            let path = this;\n\n            prop.split('.').forEach((part) => {\n                path = path[part];\n            });\n\n            return typeof path === 'undefined' ? defaultValue : path;\n        } catch (ex) {\n            return defaultValue;\n        }\n    }\n\n    set(prop, value) {\n        let path = this;\n        let parts = prop.split('.');\n        parts.forEach((part, index) => {\n            if (!path[part]) {\n                path[part] = {};\n            }\n\n            if (index == (parts.length - 1)) {\n                path[part] = value;\n            } else {\n                path = path[part];\n            }\n        });\n\n        return path;\n    }\n}\n","export function getRelativeTime(value) {\n  const now = new Date();\n  const date = new Date(value);\n\n  if (!value || isNaN(date.getTime())) {\n    return '';\n  }\n\n  const locale = navigator.language;\n  const diffInMilliSecs = date.getTime() - now.getTime();\n  const diffInSecs = Math.trunc(diffInMilliSecs / 1000);\n\n  const absDiffInSecs = Math.abs(diffInSecs);\n\n  switch (true) {\n    case absDiffInSecs < 60: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      return formatter.format(diffInSecs, 'second');\n    }\n\n    case absDiffInSecs >= 60 && absDiffInSecs < 3600: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const minutes = Math.trunc(diffInSecs / 60);\n\n      return formatter.format(minutes, 'minute');\n    }\n\n    case absDiffInSecs > 3600 && absDiffInSecs < 86400: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const hours = Math.trunc(diffInSecs / 3600);\n\n      return formatter.format(hours, 'hour');\n    }\n\n    case absDiffInSecs >= 86400 && absDiffInSecs < 604800: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const days = Math.trunc(diffInSecs / 86400);\n\n      return formatter.format(days, 'day');\n    }\n\n    case absDiffInSecs >= 604800 && absDiffInSecs < 2592000: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const weeks = Math.trunc(diffInSecs / 604800);\n\n      return formatter.format(weeks, 'week');\n    }\n\n    case absDiffInSecs >= 2592000 && absDiffInSecs < 31536000: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const months = Math.trunc(diffInSecs / 2592000);\n\n      return formatter.format(months, 'month');\n    }\n\n    case absDiffInSecs >= 31536000: {\n      const formatter = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n      const years = Math.trunc(diffInSecs / 31536000);\n\n      return formatter.format(years, 'year');\n    }\n\n    default:\n      return '';\n  }\n}\n","import {Node} from '@/models/node';\nimport {v4 as generateUid} from 'uuid';\n\nconst NODE_SKELETON_TEMPLATE = (node, workflow) => {\n    return {\n        uid: generateUid(),\n        properties: {},\n        children: [],\n        type: 'action',\n        _parentNode: node,\n        _workflow: workflow\n    };\n};\n\nexport class NodeFactory {\n    static action(node, workflow) {\n        return new Node({\n            ...NODE_SKELETON_TEMPLATE(node, workflow),\n            type: 'action',\n        });\n    }\n\n    static assign(node, workflow) {\n        return new Node({\n            ...NODE_SKELETON_TEMPLATE(node, workflow),\n            type: 'assign',\n        });\n    }\n\n    static branch(node, workflow, isDefault = false) {\n        return new Node({\n            ...NODE_SKELETON_TEMPLATE(node, workflow),\n            type: 'branch',\n            properties: {isDefault, conditions: []}\n        });\n    }\n\n    static condition(node, workflow) {\n        return new Node({\n            ...NODE_SKELETON_TEMPLATE(node, workflow),\n            type: 'condition',\n            children: [\n                NodeFactory.branch(node, workflow, true),\n                NodeFactory.branch(node, workflow),\n            ]\n        });\n    }\n\n    static create(nodeType, parent, workflow) {\n        return NodeFactory[nodeType](parent, workflow);\n    }\n}\n","import {Model} from \"@/models/model\";\r\n\r\nexport const OPERATORS = {\r\n    'equal': {\r\n        label: 'Equals',\r\n        value: 'equal',\r\n    },\r\n    'notEqual': {\r\n        label: 'Is different',\r\n        value: 'notEqual',\r\n    },\r\n    'greaterThan': {\r\n        label: 'Greater than',\r\n        value: 'greaterThan',\r\n    },\r\n    'greaterThanOrEqual': {\r\n        label: 'Greater than or equal',\r\n        value: 'greaterThanOrEqual',\r\n    },\r\n    'lowerThan': {\r\n        label: 'Lower than',\r\n        value: 'lowerThan',\r\n    },\r\n    'lowerThanOrEqual': {\r\n        label: 'Lower than or equal',\r\n        value: 'lowerThanOrEqual',\r\n    },\r\n    'empty': {\r\n        label: 'Empty',\r\n        value: 'empty',\r\n        isUnary: true,\r\n    },\r\n    'notEmpty': {\r\n        label: 'Not Empty',\r\n        value: 'notEmpty',\r\n        isUnary: true,\r\n    },\r\n    'in': {\r\n        label: 'In',\r\n        value: 'in',\r\n    },\r\n};\r\n\r\nexport class BranchCondition extends Model {\r\n    static create() {\r\n        return new BranchCondition({source: '', operator: '', value: ''});\r\n    }\r\n}\r\n","import {NodeFactory} from '@/services/node-factory';\nimport {BranchCondition} from \"@/models/condition\";\n\nexport class TreeManager {\n    static addNode(workflow, node, nodeType) {\n        const newNode = NodeFactory.create(nodeType, node, workflow);\n\n        if (nodeType === 'condition') {\n            newNode.children[0].children = node.children.map(child => {\n                child.parentNode = newNode;\n                return child;\n            });\n            node.children = [newNode];\n        } else if (nodeType === 'branch') {\n            node.children.push(newNode);\n        } else {\n            newNode.children = node.children.map(child => {\n                child.parentNode = newNode;\n                return child;\n            });\n\n            node.children = [newNode];\n        }\n\n        workflow.refresh()\n\n        return newNode;\n    }\n\n    static removeNode(workflow, parentNode, node) {\n        if (node.type === 'condition') {\n            parentNode.children = node.children[0].children;\n        } else if (node.type === 'branch') {\n            parentNode.children.splice(parentNode.children.indexOf(node), 1);\n        } else {\n            parentNode.children = node.children.length ? node.children : [];\n        }\n\n        workflow.refresh()\n    }\n\n    static addBranchCondition(workflow, node) {\n        const newBranchCondition = BranchCondition.create();\n        node.properties.conditions.push(newBranchCondition);\n\n        return newBranchCondition;\n    }\n\n    static removeBranchCondition(workflow, node, condition) {\n        node.properties.conditions.splice(node.properties.conditions.indexOf(condition), 1);\n    }\n}\n","import {TreeManager} from '@/services/tree-manager';\n\nexport const NodeMixin = {\n    props: {\n        workflow: {\n            type: Object,\n            required: false,\n        },\n        node: {\n            type: Object,\n            required: true,\n        },\n        parent: {\n            type: Object,\n            required: false,\n        },\n        index: {\n            type: Number,\n            required: false,\n        },\n    },\n    emits: ['removed'],\n    methods: {\n        remove() {\n            if (confirm('Are you sure?')) {\n                TreeManager.removeNode(this.workflow, this.parent, this.node);\n                this.$emit('removed');\n            }\n        },\n    },\n};\n","<script>\nimport { NodeMixin } from '@/helpers/node-mixin';\nimport { useConfig } from '@/helpers/config-effect';\nimport { computed } from 'vue';\n\nexport default {\n  name: 'TriggerNode',\n  template: '#trigger-node-template',\n  props: {id: String},\n  mixins: [NodeMixin],\n  emits: ['click'],\n  setup(props) {\n    const config = useConfig();\n    const triggerEvent = computed(() => {\n      if (props.node.properties.arguments?.event?.id === 'custom') {\n        return { name: `${props.node.properties.arguments?.event?.customEvent || ''} (Custom)` };\n      }\n      return config.triggers.events[props.node.properties.arguments?.event?.id] || { name: props.node.properties.arguments?.event?.id || 'N/A' };\n    });\n\n    const triggerSchedule = computed(() => {\n      const schedule = config.triggers.schedules[props.node.properties.arguments?.schedule?.frequency] || { name: 'N/A' };\n      const startsAt = props.node.properties.arguments?.schedule?.startDate;\n      schedule.startsAt = startsAt ? (new Date(startsAt)).toLocaleString() : null;\n\n      return schedule;\n    });\n\n    const triggerWebhook = computed(() => {\n      const parameters = props.node.properties.arguments?.webhook?.parameters || {};\n\n      return {\n        slug: props.node.properties.arguments?.webhook?.slug || 'N/A',\n        parameters: Object.keys(parameters).map(parameterId => parameters[parameterId].name || parameterId).join(', '),\n        url: props.node.webhook_url,\n      };\n    });\n\n    return {\n      triggerEvent,\n      triggerSchedule,\n      triggerWebhook,\n    };\n  },\n};\n</script>\n","import script from \"./TriggerNode.vue?vue&type=script&lang=js\"\nexport * from \"./TriggerNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport { NodeMixin } from '@/helpers/node-mixin';\n\nexport default {\n  name: 'ActionNode',\n  template: '#action-node-template',\n  mixins: [NodeMixin],\n  setup(props) {\n  },\n  emits: ['click'],\n};\n</script>\n","import script from \"./ActionNode.vue?vue&type=script&lang=js\"\nexport * from \"./ActionNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport { NodeMixin } from '@/helpers/node-mixin';\nimport { computed } from 'vue';\n\nexport default {\n  name: 'AssignNode',\n  template: '#assign-node-template',\n  mixins: [NodeMixin],\n  emits: ['click'],\n  setup(props) {\n    const variables = computed(() => Object.values(props.node.properties?.variables || {}));\n\n    return {\n      variables,\n    };\n  },\n};\n</script>\n","import script from \"./AssignNode.vue?vue&type=script&lang=js\"\nexport * from \"./AssignNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {reactive} from 'vue';\nimport {useConfig} from '@/helpers/config-effect';\n\nconst NOTIFICATIONS = reactive([]);\nconst ICONS = {'info': 'info', 'success': 'check'};\n\nNOTIFICATIONS.__proto__.add = function (title, body, level = 'info') {\n    const notification = {\n        icon: ICONS[level] || 'info',\n        color: level,\n        title,\n        body\n    };\n    notification.timeout = setTimeout(\n        () => NOTIFICATIONS.splice(NOTIFICATIONS.indexOf(notification), 1),\n        3000\n    );\n\n    NOTIFICATIONS.push(notification);\n};\n\nconst config = useConfig();\n\nconst STORE = reactive({\n    expandedNode: '',\n    currentActiveNodes: [],\n    workflow: null,\n    isVariableFinderVisible: false,\n    notifications: NOTIFICATIONS,\n    connections: config.connections\n});\n\nexport function useStore() {\n    return STORE;\n}\n","<script>\nimport {NodeMixin} from '@/helpers/node-mixin';\nimport {TreeManager} from \"@/services/tree-manager\";\nimport {useStore} from \"@/helpers/store-effect\";\n\nexport default {\n  name: 'ConditionNode',\n  template: '#condition-node-template',\n  mixins: [NodeMixin],\n  emits: ['click'],\n  setup(props) {\n    const store = useStore();\n    const addBranch = () => {\n      TreeManager.addNode(store.workflow, props.node, 'branch');\n    }\n\n    const removeBranch = (branch) => {\n      TreeManager.removeNode(store.workflow, props.node, branch)\n    }\n\n    return {\n      addBranch,\n      removeBranch\n    }\n  },\n};\n</script>\n","import script from \"./ConditionNode.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport { NodeMixin } from '@/helpers/node-mixin';\n\nexport default {\n  name: 'ConditionBranchNode',\n  template: '#condition-branch-node-template',\n  mixins: [NodeMixin],\n  emits: ['click'],\n};\n</script>\n","import script from \"./ConditionBranchNode.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionBranchNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport { NodeMixin } from '@/helpers/node-mixin';\n\nexport default {\n  name: 'EmptyNode',\n  mixins: [NodeMixin],\n  emits: ['click'],\n};\n</script>\n","import script from \"./EmptyNode.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","const SPECIAL_CHARS = [\n  '!',\n  '@',\n  '#',\n  '$',\n  '%',\n  '^',\n  '&',\n  '*',\n  '<',\n  '>',\n  ':',\n  '.',\n  ';',\n  ',',\n  '!',\n  '?',\n  '§',\n  '¨',\n  '£',\n  '-',\n  '_',\n  '(',\n  ')',\n  '{',\n  '}',\n  '[',\n  ']',\n  '=',\n  '+',\n  '|',\n  '~',\n  '`',\n  '\\'',\n  '°',\n  '\"',\n  '/',\n  '\\\\'];\n\nexport function slugify(name, separator = '-', keepEdge = false) {\n  if (name && name.toString) {\n    return name.toString().toLowerCase().replace(/\\s+/g, separator)           // Replace spaces with -\n      .replace(new RegExp(`[\\\\${SPECIAL_CHARS.join('\\\\')}]+`.replace(`\\\\${separator}`, ''), 'g'),\n        '')       // Remove all non-word chars\n      .replace(new RegExp(`\\\\${separator}\\\\${separator}+`, 'g'), separator)         // Replace multiple - with single -\n      .replace(keepEdge ? null : new RegExp(`^\\\\${separator}+`), '')             // Trim - from start of text\n      .replace(keepEdge ? null : new RegExp(`\\\\${separator}+$`), '');            // Trim - from end of text\n  }\n}\n","<script>\nimport {useConfig} from '@/helpers/config-effect';\nimport {slugify} from '@/helpers/strings';\n\nexport default {\n  name: 'TriggerSettings',\n  template: '#trigger-settings-template',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const config = useConfig();\n\n    const triggerSchedules = config.triggers.schedules;\n    const eventGroups = {};\n\n    Object.values(config.triggers.events).forEach(triggerEvent => {\n      if (!eventGroups.hasOwnProperty(triggerEvent.group)) {\n        eventGroups[triggerEvent.group] = {\n          name: triggerEvent.group,\n          events: [],\n        };\n      }\n\n      eventGroups[triggerEvent.group].events.push(triggerEvent);\n    });\n\n    eventGroups['other'] = {name: 'Other', events: [{id: 'custom', name: 'Custom', group: 'Other'}]};\n\n    const triggerTypes = {\n      schedule: {\n        label: 'Scheduled',\n        description: 'Hourly, weekly, etc...',\n        icon: 'update',\n      },\n      event: {\n        label: 'Event',\n        description: 'Post creation, order creation, etc...',\n        icon: 'bolt',\n      },\n      webhook: {\n        label: 'WebHook',\n        description: 'API Call, Zapier, etc...',\n        icon: 'cloud',\n      },\n    };\n\n    return {\n      triggerTypes,\n      eventGroups: Object.values(eventGroups),\n      triggerSchedules,\n      set webhookSlug(value) {\n        props.node.property('arguments.webhook').slug = slugify(value, '-') || '';\n      },\n      get webhookSlug() {\n        return props.node.property('arguments.webhook').slug;\n      },\n    };\n  },\n};\n</script>\n","import script from \"./TriggerSettings.vue?vue&type=script&lang=js\"\nexport * from \"./TriggerSettings.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport {slugify} from '@/helpers/strings';\nimport {useConfig} from '@/helpers/config-effect';\n\nexport default {\n  name: 'ActionSettings',\n  template: '#action-settings-template',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const config = useConfig();\n\n    const actions = config.actions;\n    const actionsGroups = {};\n\n    Object.values(actions).forEach(action => {\n      if (!actionsGroups.hasOwnProperty(action.group)) {\n        actionsGroups[action.group] = {\n          name: action.group,\n          actions: [],\n        };\n      }\n\n      actionsGroups[action.group].actions.push(action);\n    });\n\n    return {\n      actionsGroups: Object.values(actionsGroups),\n      actions,\n      set actionName(value) {\n        props.node.properties.name = slugify(value, '-') || '';\n      },\n      get actionName() {\n        return props.node.properties.name;\n      },\n    };\n  },\n};\n</script>\n","import script from \"./ActionSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ActionSettings.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport {slugify} from '@/helpers/strings';\nimport {reactive, ref} from 'vue';\nimport {useStore} from \"@/helpers/store-effect\";\n\nexport default {\n  name: 'AssignSettings',\n  template: '#assign-settings-template',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const store = useStore();\n    const workflow = store.workflow;\n    const variables = props.node.property('variables');\n    const nameInput = ref(null);\n    const valueInput = ref(null);\n\n    const form = reactive({\n      variable: {\n        id: '',\n        name: '',\n        value: '',\n      },\n    });\n\n    const addVariable = () => {\n      form.variable.name = form.variable.name.trim();\n      form.variable.id = slugify(form.variable.name, '_');\n      if (!form.variable.id) {\n        return;\n      }\n      variables[form.variable.id] = {...form.variable};\n\n      form.variable.id = '';\n      form.variable.name = '';\n      form.variable.value = '';\n\n      nameInput.value.focus();\n    };\n\n    const removeVariable = (variable) => {\n      delete variables[variable];\n    };\n\n    return {\n      nameInput,\n      valueInput,\n      workflow,\n      variables,\n      form,\n      removeVariable,\n      addVariable,\n    };\n  },\n};\n</script>\n","import script from \"./AssignSettings.vue?vue&type=script&lang=js\"\nexport * from \"./AssignSettings.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\nCondition\n</template>\n\n<script>\nexport default {\n  name: 'ConditionSettings',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./ConditionSettings.vue?vue&type=template&id=2d511052\"\nimport script from \"./ConditionSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport {OPERATORS} from \"@/models/condition\";\nimport {TreeManager} from \"@/services/tree-manager\";\nimport {useStore} from \"@/helpers/store-effect\";\n\nexport default {\n  name: 'ConditionBranchSettings',\n  template: '#condition-branch-settings-template',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const store = useStore();\n\n    const addCondition = () => {\n      TreeManager.addBranchCondition(store.workflow, props.node);\n    }\n\n    const removeCondition = (condition) => {\n      TreeManager.removeBranchCondition(store.workflow, props.node, condition);\n    }\n\n    return {\n      properties: props.node.properties,\n      operators: OPERATORS,\n      addCondition,\n      removeCondition\n    }\n  }\n};\n</script>\n","import script from \"./ConditionBranchSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionBranchSettings.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nexport default {\n  name: 'OutputsViewer',\n  template: '#outputs-viewer-template',\n  props: {\n    outputs: {\n      Type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    return {};\n  },\n};\n</script>\n","import script from \"./OutputsViewer.vue?vue&type=script&lang=js\"\nexport * from \"./OutputsViewer.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {Model} from '@/models/model';\n\nconst HUMAN_NAMES = {\n    string: 'String',\n    integer: 'Number',\n    boolean: 'Boolean',\n    map: 'Map',\n    array: 'Array',\n    any: 'Any',\n};\n\nclass TypeDescriptor extends Model {\n    describe(node) {\n        const outputs = [];\n        if (this.id === 'keysOf') {\n            for (const entry of node.arguments[this.source]) {\n                outputs.push({\n                    id: entry[this.field],\n                    name: entry[this.field],\n                    description: `The value of '${entry[this.field]}'`,\n                    type: Type.any(),\n                });\n            }\n        }\n\n        return outputs;\n    }\n}\n\n/**\n * @property id\n * @property properties\n */\nexport class Type extends Model {\n    cast_descriptor(rawDescriptor) {\n        return new TypeDescriptor(rawDescriptor);\n    }\n\n    cast_properties(rawProperties) {\n        return rawProperties.map(rawProperty => {\n            rawProperty.type = new Type(rawProperty.type);\n\n            return rawProperty;\n        });\n    }\n\n    get humanName() {\n        return HUMAN_NAMES[this.id] || this.id;\n    }\n\n    static integer() {\n        return new Type({id: 'integer'});\n    }\n\n    static number() {\n        return new Type({id: 'number'});\n    }\n\n    static string() {\n        return new Type({id: 'string'});\n    }\n\n    static any() {\n        return new Type({id: 'any'});\n    }\n\n    static boolean() {\n        return new Type({id: 'boolean'});\n    }\n\n    static object(properties = {}) {\n        return new Type({\n            id: 'object',\n            properties,\n        });\n    }\n\n    static listOf(values = {}) {\n        return new Type({\n            id: 'list',\n            properties: {values},\n        });\n    }\n}\n","import {Model} from '@/models/model';\nimport {Type} from '@/models/type';\n\nexport class Output extends Model {\n    cast_type(rawType, rawAttributes) {\n        return rawType instanceof Type ? rawType : new Type({...rawType, _node: rawAttributes._node});\n    }\n\n    get subOutputs() {\n        let properties = this.type.properties || [];\n\n        if (this.type.descriptor) {\n            properties = this.type.descriptor.describe(this.node);\n        }\n\n        return properties.map(property => new Output({...property, group: this.path, _parent: this, _node: this.node}))\n    }\n\n    get path() {\n        return `${this.group || ''}.${this.id}`;\n    }\n\n    get ref() {\n        return `{${this.path}${this.transform ? '|' + this.transform : ''}}`;\n    }\n}\n","<script>\nexport default {\n  name: 'ErrorsViewer',\n  template: '#errors-viewer-template',\n  props: {\n    errors: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n","import script from \"./ErrorsViewer.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorsViewer.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable no-prototype-builtins */\nimport {Model} from '@/models/model';\nimport TriggerNode from '@/components/workflows/nodes/TriggerNode';\nimport ActionNode from '@/components/workflows/nodes/ActionNode';\nimport AssignNode from '@/components/workflows/nodes/AssignNode';\nimport ConditionNode from '@/components/workflows/nodes/ConditionNode';\nimport ConditionBranchNode from '@/components/workflows/nodes/ConditionBranchNode';\nimport EmptyNode from '@/components/workflows/nodes/EmptyNode';\nimport TriggerSettings from '@/components/workflows/settings/TriggerSettings';\nimport ActionSettings from '@/components/workflows/settings/ActionSettings';\nimport AssignSettings from '@/components/workflows/settings/AssignSettings';\nimport ConditionSettings from '@/components/workflows/settings/ConditionSettings';\nimport ConditionBranchSettings from '@/components/workflows/settings/ConditionBranchSettings';\nimport {TRIGGER_TYPES} from '@/models/workflow';\nimport {defineComponent, reactive, shallowRef} from 'vue';\nimport OutputsViewer from '@/components/workflows/common/OutputsViewer';\nimport {Output} from '@/models/output';\nimport {Type} from '@/models/type';\nimport {useConfig} from '@/helpers/config-effect';\nimport ErrorsViewer from '@/components/workflows/common/ErrorsViewer';\n\nconst config = useConfig();\n\nconst ACTION_COMPONENTS_MAP = {};\nconst EVENT_COMPONENTS_MAP = {};\n\nexport const NODE_TYPES = {\n    global: {\n        label: 'Globals',\n        icon: 'public',\n    },\n    trigger: {\n        label: 'Trigger',\n        icon: 'bolt',\n    },\n    assign: {\n        label: 'Assignment',\n        icon: 'exit_to_app',\n    },\n    action: {\n        label: 'Action',\n        icon: 'play_circle_filled',\n    },\n};\n\nclass NodeOutputsExtractor {\n    static trigger(node) {\n        if (node.properties.type === 'schedule') {\n            return [\n                new Output({\n                    id: 'time',\n                    group: 'trigger',\n                    name: 'Time',\n                    description: 'The current time when the trigger got fired.',\n                    type: Type.integer(),\n                    _node: node\n                }),\n            ];\n        }\n\n        if (node.properties.type === 'webhook') {\n            return Object.keys(node.properties.arguments.webhook.parameters).map(parameterId => {\n                const parameter = node.properties.arguments.webhook.parameters[parameterId];\n                return new Output({\n                    id: parameterId,\n                    group: 'trigger',\n                    name: parameter.name || parameterId,\n                    description: 'Webhook parameter.',\n                    type: parameter.type,\n                });\n            });\n        }\n\n        if (node.properties.type === 'event') {\n            const event = config.triggers.events[node.properties.arguments.event?.id];\n            return event ? event.outputs.map(output => new Output({...output, group: 'trigger'})) : [];\n        }\n\n        return [];\n    }\n\n    static action(node) {\n        return config.actions[node.properties.id]?.outputs.map(\n            output => new Output({\n                ...output,\n                group: `actions.${node.properties.name?.trim() || node.uid}`,\n                _node: node\n            })\n        ) || [];\n    }\n\n    static assign(node) {\n        return Object.keys(node.properties?.variables || {}).map(variableId => {\n            const variable = node.properties.variables[variableId];\n\n            return new Output({\n                id: variableId,\n                name: variable.name || variableId,\n                group: 'assignments',\n                description: `Assigned variable to \"${variable.value}\".`,\n                type: Type.any(),\n                _node: node\n            });\n        });\n    }\n\n    static global(node) {\n        return Object.keys(config.globals || {}).map(outputId => {\n            const output = config.globals[outputId];\n\n            return new Output({\n                ...output,\n                group: 'globals',\n                _node: node\n            });\n        });\n    }\n}\n\nclass NodeError extends Model {\n    static create(id, message, args) {\n        return new NodeError({\n            id,\n            message,\n            args,\n        });\n    }\n}\n\nclass NodeErrorsBag {\n    constructor() {\n        this.items = {};\n    }\n\n    static create() {\n        return new NodeErrorsBag();\n    }\n\n    get(id = null) {\n        return id === null ? this.items : this.items[id] || [];\n    }\n\n    add(id, error) {\n        if (!this.items.hasOwnProperty(id)) {\n            this.items[id] = [];\n        }\n\n        this.items[id].push(error);\n    }\n\n    get length() {\n        return Object.keys(this.items).length;\n    }\n}\n\nclass NodeErrorsChecker {\n    static trigger(node) {\n        const errors = NodeErrorsBag.create();\n\n        if (node.properties.type === 'schedule' && !node.properties.arguments.schedule?.frequency) {\n            errors.add('schedule-slug', NodeError.create('no-frequency', 'The schedule frequency has not been specified.'));\n        }\n\n        if (node.properties.type === 'event' && !node.properties.arguments.event?.id) {\n            errors.add('event-name', NodeError.create('no-name', 'The event name has not been specified.'));\n        }\n\n        if (node.properties.type === 'event' && node.properties.arguments.event?.id && !config.triggers.events.hasOwnProperty(node.properties.arguments.event?.id)) {\n            errors.add('event-name', NodeError.create('no-name', `The event ${node.properties.arguments.event?.id} could not be found, please make sure that all integrations are enabled.`));\n        }\n\n        if (node.properties.type === 'event' && node.properties.arguments.event?.id === 'custom' &&\n            !node.properties.arguments.event?.customEvent) {\n            errors.add('custom-event-name', NodeError.create('no-slug', 'The custom event name has not been specified.'));\n        }\n\n        if (node.properties.type === 'webhook' && !node.properties.arguments.webhook?.slug) {\n            errors.add('webhook-slug', NodeError.create('no-slug', 'The webhook slug has not been specified.'));\n        }\n\n        return errors;\n    }\n\n    static action(node) {\n        const errors = NodeErrorsBag.create();\n\n        if (node.properties.id && !config.actions[node.properties.id]) {\n            errors.add('action', NodeError.create('action-not-found', `The action \"${node.properties.id}\" could not be found, please make sure that all integrations are enabled.`));\n        }\n\n        return errors;\n    }\n}\n\nexport class Node extends Model {\n    cast_children(rawChildren, rawAttributes) {\n        rawAttributes._workflow.nodesCache[this.uid] = this;\n\n        return rawChildren.map((child, index) => {\n            let level = (rawAttributes.level || 0) + (index + 1);\n\n            return new Node({\n                ...child,\n                level,\n                _parentNode: this,\n                _workflow: rawAttributes._workflow\n            });\n        });\n    }\n\n    cast_properties(rawProperties) {\n        if (rawProperties.arguments?.webhook?.parameters) {\n            for (const parameterId in rawProperties.arguments.webhook.parameters) {\n                rawProperties.arguments.webhook.parameters[parameterId].type = new Type(rawProperties.arguments.webhook.parameters[parameterId].type);\n            }\n        }\n        return reactive(Array.isArray(rawProperties) ? {} : rawProperties);\n    }\n\n    property(name, defaultValue = null) {\n        try {\n            let path = this.properties;\n\n            if (!name) {\n                return path;\n            }\n\n            name.split('.').forEach((part) => {\n                path = path.hasOwnProperty(part) && !Array.isArray(path[part]) ? path[part] : path[part] = reactive({});\n            });\n\n            return typeof path === 'undefined' ? defaultValue : path;\n        } catch (ex) {\n            return defaultValue;\n        }\n    }\n\n    get arguments() {\n        if (this.type === 'action') {\n            return this.property(`arguments.${this.properties.id}`, {});\n        }\n\n        return [];\n    }\n\n    get outputs() {\n        return NodeOutputsExtractor.hasOwnProperty(this.type) ? NodeOutputsExtractor[this.type](this) : [];\n    }\n\n    get errors() {\n        return NodeErrorsChecker.hasOwnProperty(this.type) ? NodeErrorsChecker[this.type](this) : NodeErrorsBag.create();\n    }\n\n    get webhook_url() {\n        return config.url.webhookBaseUrl.replace('SLUG',\n            this.property('arguments.webhook').slug || this.property('arguments.webhook').uid);\n    }\n\n    get type_label() {\n        return NODE_TYPES[this.type]?.label;\n    }\n\n    get type_icon() {\n        return NODE_TYPES[this.type]?.icon;\n    }\n\n    get trigger_type_label() {\n        return TRIGGER_TYPES[this.properties.type]?.label || 'N/A';\n    }\n\n    get trigger_type_icon() {\n        return TRIGGER_TYPES[this.properties.type]?.icon || 'settings';\n    }\n\n    get tree_component() {\n        switch (this.type) {\n            case 'trigger':\n                return TriggerNode.name;\n            case 'action':\n                return ActionNode.name;\n            case 'assign':\n                return AssignNode.name;\n            case 'condition':\n                return ConditionNode.name;\n            case 'branch':\n                return ConditionBranchNode.name;\n        }\n\n        return EmptyNode.name;\n    }\n\n    get settings_component() {\n        switch (this.type) {\n            case 'trigger':\n                return TriggerSettings.name;\n            case 'action':\n                return ActionSettings.name;\n            case 'assign':\n                return AssignSettings.name;\n            case 'condition':\n                return ConditionSettings.name;\n            case 'branch':\n                return ConditionBranchSettings.name;\n        }\n\n        return EmptyNode.name;\n    }\n\n    get outputs_component() {\n        return OutputsViewer.name;\n    }\n\n    get errors_component() {\n        return ErrorsViewer.name;\n    }\n\n    get action() {\n        return config.actions[this.properties.id];\n    }\n\n    get action_component() {\n        if (!this.properties.id) {\n            return EmptyNode.name;\n        }\n\n        if (!ACTION_COMPONENTS_MAP.hasOwnProperty(this.properties.id)) {\n            ACTION_COMPONENTS_MAP[this.properties.id] = shallowRef(defineComponent({\n                name: this.properties.id,\n                template: config.actions[this.properties.id]?.template || `<div class=\"alert p-2 alert-danger small\"><strong>${this.properties.id}</strong> action could not be found, please make sure that integrations are activated.</div>`,\n                props: {\n                    node: {type: Object, required: true},\n                    arguments: {type: Object, required: false},\n                },\n                setup(props) {\n                    const argument = (name, initialValue = null) => {\n                        if (!props.arguments.hasOwnProperty(name)) {\n                            props.arguments[name] = initialValue;\n                        }\n\n                        return props.arguments[name];\n                    };\n\n                    return {argument};\n                }\n            }));\n        }\n\n        return ACTION_COMPONENTS_MAP[this.properties.id];\n    }\n\n    get event_component() {\n        if (!this.properties.arguments.event.id) {\n            return EmptyNode.name;\n        }\n\n        if (!EVENT_COMPONENTS_MAP.hasOwnProperty(this.properties.arguments.event.id)) {\n            EVENT_COMPONENTS_MAP[this.properties.arguments.event.id] = shallowRef(defineComponent({\n                name: this.properties.arguments.event.id,\n                template: config.triggers.events[this.properties.arguments.event.id]?.template || `<div></div>`,\n                props: {\n                    node: {type: Object, required: true},\n                    arguments: {type: Object, required: false},\n                },\n                setup(props) {\n                    const argument = (name, initialValue = null) => {\n                        if (!props.arguments.hasOwnProperty(name)) {\n                            props.arguments[name] = initialValue;\n                        }\n\n                        return props.arguments[name];\n                    };\n\n                    return {argument};\n                }\n            }));\n        }\n\n        return EVENT_COMPONENTS_MAP[this.properties.arguments.event.id];\n    }\n}\n","import {Model} from '@/models/model';\nimport {getRelativeTime} from '@/helpers/datetime';\nimport {v4 as generateUid} from 'uuid';\nimport {Node} from '@/models/node';\nimport {reactive} from 'vue';\n\nexport const TRIGGER_TYPES = {\n    schedule: {\n        label: 'Schedule',\n        icon: 'update',\n    },\n    event: {\n        label: 'Event',\n        icon: 'bolt',\n    },\n    webhook: {\n        label: 'WebHook',\n        icon: 'cloud',\n    },\n};\n\nexport let WORKFLOW_NODES_CACHE = reactive({});\n\nfunction refreshLevel(node, level) {\n    node.level = level;\n    node.children.forEach(child => refreshLevel(child, level + 1))\n\n    return node;\n}\n\n/**\n * @property String id\n * @property String uid\n * @property String type\n */\nexport class Workflow extends Model {\n    bootstrap() {\n        Object.defineProperty(this, 'nodesCache', {\n            enumerable: false,\n            value: reactive({}),\n        });\n    }\n\n    refresh() {\n        refreshLevel(this.tree, 1);\n    }\n\n    get_node_by_uid(uid) {\n        return this.nodesCache[uid];\n    }\n\n    cast_tree(rawTree) {\n        return new Node({...rawTree, level: 1, _workflow: this});\n    }\n\n    get trigger_type_label() {\n        return TRIGGER_TYPES[this.type].label || 'N/A';\n    }\n\n    get trigger_type_icon() {\n        return TRIGGER_TYPES[this.type].icon || 'settings';\n    }\n\n    get time_since_created() {\n        return getRelativeTime(this.created_at);\n    }\n\n    get time_since_updated() {\n        return getRelativeTime(this.updated_at);\n    }\n\n    get time_since_last_run() {\n        return getRelativeTime(this.last_run_at);\n    }\n\n    get time_until_next_run() {\n        return getRelativeTime(this.next_run_at);\n    }\n\n    duplicate() {\n        let json = JSON.stringify(this);\n        const regexp = /[\\da-f]{8}-([\\da-f]{4}-){3}[\\da-f]{12}/ig;\n        const uids = new Set(json.match(regexp)).values();\n\n        for (const uid of uids) {\n            json = json.replaceAll(uid, generateUid());\n        }\n\n        const workflow = JSON.parse(json);\n        workflow.name = `${workflow.name}`;\n        workflow.enabled = false;\n        workflow.created_at = workflow.updated_at = (new Date()).toISOString();\n\n        workflow._new = true;\n\n        return new Workflow(workflow);\n    }\n\n    copy() {\n        return new Workflow({...this});\n    }\n\n    isIdenticalTo(workflow) {\n        const jsonOfThis = JSON.stringify(this);\n        const jsonOfOther = JSON.stringify(workflow);\n\n        return jsonOfOther === jsonOfThis;\n    }\n}\n","import { restApiHttpClient } from '@/helpers/rest-api-http-client';\nimport { Workflow } from '@/models/workflow';\n\nexport class WorkflowsRepository {\n  constructor() {\n  }\n\n  static async getWorkflows() {\n    const response = await restApiHttpClient.get('workflows');\n    return response.data.map(workflow => new Workflow(workflow));\n  }\n\n  static async getWorkflow(uid) {\n    const response = await restApiHttpClient.get(`workflows/${uid}`);\n    return new Workflow(response.data);\n  }\n\n  static async getWorkflowLog(uid, nodeUid = null) {\n    const response = await restApiHttpClient.get(`workflows/${uid}/log`, {params: {node_uid: nodeUid}});\n    return response.data;\n  }\n\n  static async updateWorkflow(workflow) {\n    const response = await restApiHttpClient.post(`workflows/${workflow.uid}`, workflow);\n    return new Workflow(response.data);\n  }\n\n  static async trashWorkflow(workflow) {\n    const response = await restApiHttpClient.delete(`workflows/${workflow.uid}`);\n    return new Workflow(response.data);\n  }\n\n  static async createWorkflow(workflow) {\n    const response = await restApiHttpClient.post(`workflows`, workflow);\n    return new Workflow(response.data);\n  }\n}\n","import { computed, ref } from 'vue';\n\nconst IS_LOADING = 'loading';\nconst IS_LOADED = 'loaded';\n\nexport default function useLoading(defaultState = IS_LOADING) {\n  const loadingState = ref(defaultState);\n  const isLoading = computed(() => loadingState.value === IS_LOADING);\n  const isLoaded = computed(() => loadingState.value === IS_LOADED);\n\n  const startLoading = () => loadingState.value = IS_LOADING;\n  const stopLoading = () => loadingState.value = IS_LOADED;\n\n  return {\n    isLoading,\n    isLoaded,\n    startLoading,\n    stopLoading,\n  };\n}\n","import {useStore} from \"@/helpers/store-effect\";\n\nexport default function useNotifications() {\n    const store = useStore();\n\n    return {\n        notify: store.notifications.add\n    };\n}\n","<script>\nimport {onMounted, ref} from 'vue';\nimport {WorkflowsRepository} from '@/services/workflows-repository';\nimport useLoading from '@/helpers/loading-effect';\nimport {useRouter} from 'vue-router';\nimport {useStore} from '@/helpers/store-effect';\nimport {useConfig} from '@/helpers/config-effect';\nimport {Workflow} from '@/models/workflow';\nimport useNotifications from \"@/helpers/notify-effect\";\n\nexport default {\n  name: 'WorkflowsListing',\n  template: '#workflows-listing-template',\n\n  setup() {\n    const {startLoading, stopLoading, isLoaded, isLoading} = useLoading();\n\n    const config = useConfig();\n    const router = useRouter();\n    const store = useStore();\n    const {notify} = useNotifications();\n    const workflows = ref([]);\n\n    const getAll = async () => {\n      startLoading();\n      workflows.value = await WorkflowsRepository.getWorkflows();\n      stopLoading();\n    };\n\n    const duplicate = (workflow) => {\n      const duplicatedWorkflow = workflow.duplicate();\n      duplicatedWorkflow.name += ' (Copy)';\n\n      store.workflow = duplicatedWorkflow;\n\n      notify('Duplication', 'The workflow has been duplicated.', 'success')\n\n      router.push({\n        name: 'editor',\n        params: {\n          uid: duplicatedWorkflow.uid,\n        },\n      });\n    };\n\n    const trash = (workflow) => {\n      if (confirm('Are you sure?')) {\n        workflows.value.splice(workflows.value.indexOf(workflow), 1);\n        WorkflowsRepository.trashWorkflow(workflow);\n        notify('Removal', 'The workflow has been trashed.', 'success')\n      }\n    };\n\n    const newWorkflowTemplate = new Workflow(config.workflow.defaults);\n\n    const create = () => {\n      store.workflow = newWorkflowTemplate.duplicate();\n\n      router.push({\n        name: 'editor',\n        params: {\n          uid: store.workflow.uid,\n        },\n      });\n    };\n\n    const download = (workflow) => {\n      const blob = new Blob([JSON.stringify(workflow, null, 2)], {\n        type: 'application/json'\n      });\n\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = `${workflow.name}.json`;\n\n      link.click();\n    };\n\n    const toggleEnable = (workflow) => {\n      workflow.enabled = !workflow.enabled;\n      WorkflowsRepository.updateWorkflow(workflow);\n      notify('State changed', workflow.enabled ? 'The workflow has been enabled.' : 'The workflow has been disabled', 'success')\n    };\n\n    onMounted(getAll);\n\n    return {\n      isLoaded,\n      isLoading,\n      workflows,\n      create,\n      duplicate,\n      trash,\n      download,\n      toggleEnable,\n    };\n  },\n};\n</script>\n","import script from \"./WorkflowsListing.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowsListing.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {useRouter} from 'vue-router';\nimport {useStore} from '@/helpers/store-effect';\n\nexport function useFocus(initialReset = false) {\n    const router = useRouter();\n    const store = useStore();\n\n    const resetFocus = () => {\n        store.expandedNode = null;\n        store.currentActiveNodes = [];\n\n        router.push({\n            name: 'editor',\n            params: {uid: store.workflow.uid},\n        });\n    };\n\n    const setFocus = (node) => {\n        if (node.type === 'branch') {\n            store.currentActiveNodes = [node.uid, ...node.children.map(childNode => childNode.id)];\n        } else {\n            store.currentActiveNodes = [node.uid];\n        }\n\n        router.push({\n            name: 'nodeSettings',\n            params: {nodeUid: node.uid},\n        });\n    };\n\n    if (initialReset) {\n        store.expandedNode = null;\n        store.currentActiveNodes = [];\n    }\n\n    return {\n        setFocus,\n        resetFocus,\n\n        get currentActiveNodes() {\n            return store.currentActiveNodes;\n        },\n    };\n}\n","<script>\nimport {computed} from 'vue';\nimport {useStore} from '@/helpers/store-effect';\nimport {TreeManager} from '@/services/tree-manager';\nimport {NodeMixin} from '@/helpers/node-mixin';\nimport {useFocus} from \"@/helpers/focus-effect\";\n\nexport default {\n  name: 'NewNode',\n  template: '#new-node-template',\n  mixins: [NodeMixin],\n  setup(props) {\n    const store = useStore();\n    const {setFocus} = useFocus();\n    const close = () => {\n      store.expandedNode = '';\n    };\n    const toggle = () => store.expandedNode = props.node.uid;\n    const expanded = computed(() => store.expandedNode === props.node.uid);\n    const add = (nodeType) => {\n      const newNode = TreeManager.addNode(store.workflow, props.node, nodeType);\n      setFocus(newNode)\n      close();\n    };\n\n    return {\n      toggle,\n      expanded,\n      add,\n    };\n  },\n};\n</script>\n","import script from \"./NewNode.vue?vue&type=script&lang=js\"\nexport * from \"./NewNode.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\n\nimport NewNode from '@/components/workflows/nodes/NewNode';\nimport EmptyNode from '@/components/workflows/nodes/EmptyNode';\nimport ActionNode from '@/components/workflows/nodes/ActionNode';\nimport AssignNode from '@/components/workflows/nodes/AssignNode';\nimport ConditionBranchNode from '@/components/workflows/nodes/ConditionBranchNode';\nimport TriggerNode from '@/components/workflows/nodes/TriggerNode';\nimport ConditionNode from '@/components/workflows/nodes/ConditionNode';\nimport {useFocus} from '@/helpers/focus-effect';\n\nexport default {\n  name: 'WorkflowEditorCanvas',\n  template: '#workflow-editor-canvas-template',\n  props: {\n    workflow: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    return useFocus(true);\n  },\n  components: {\n    NewNode,\n    ActionNode,\n    AssignNode,\n    ConditionNode,\n    ConditionBranchNode,\n    TriggerNode,\n    EmptyNode,\n  },\n};\n</script>\n","import script from \"./WorkflowEditorCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowEditorCanvas.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport useLoading from '@/helpers/loading-effect';\nimport {onMounted, onUnmounted, watch} from 'vue';\nimport {WorkflowsRepository} from '@/services/workflows-repository';\nimport {onBeforeRouteLeave, useRoute} from 'vue-router';\nimport {useStore} from '@/helpers/store-effect';\nimport WorkflowEditorCanvas from '@/components/workflows/WorkflowEditorCanvas';\nimport useNotifications from \"@/helpers/notify-effect\";\n\nexport default {\n  name: 'WorkflowEditor',\n  template: '#workflow-editor-template',\n  components: {\n    WorkflowEditorCanvas,\n  },\n  props: {\n    uid: {\n      type: String,\n      required: true,\n    },\n    nodeUid: {type: String},\n  },\n  setup(props) {\n    const store = useStore();\n    const route = useRoute();\n    const {notify} = useNotifications();\n\n    let originalWorkflow = null;\n\n    const {\n      isLoading,\n      isLoaded,\n      startLoading,\n      stopLoading,\n    } = useLoading();\n\n    const getFromBackend = async (uid) => {\n      startLoading();\n      store.workflow = await WorkflowsRepository.getWorkflow(uid);\n      stopLoading();\n    };\n\n    const getFromStore = () => {\n      startLoading();\n      if (store.workflow.new) {\n        save();\n      }\n      stopLoading();\n    };\n\n    const {\n      isLoading: isSaving,\n      isLoaded: isSaved,\n      startLoading: startSaving,\n      stopLoading: stopSaving,\n    } = useLoading('');\n\n    const save = async () => {\n      startSaving();\n      if (store.workflow.new) {\n        await WorkflowsRepository.createWorkflow(store.workflow);\n        store.workflow.new = false;\n        notify('Workflow created', 'Your changes to this workflow has been saved.', 'success')\n      } else {\n        await WorkflowsRepository.updateWorkflow(store.workflow);\n        notify('Workflow updated', 'Your changes to this workflow has been saved.', 'success')\n      }\n      originalWorkflow = store.workflow?.copy();\n      stopSaving();\n    };\n\n    const retrieve = async () => {\n      if (store.workflow) {\n        getFromStore();\n      } else if (route.params.uid) {\n        await getFromBackend(route.params.uid);\n      }\n\n      originalWorkflow = store.workflow?.copy();\n    };\n\n    onMounted(retrieve);\n    watch(() => route.params.uid, () => route.params.uid && retrieve());\n\n    // Confirmation\n    const confirmChanges = () => {\n      if (!originalWorkflow.isIdenticalTo(store.workflow)) {\n        return 'Do you really want to leave? you have unsaved changes!';\n      }\n    };\n    onBeforeRouteLeave(() => {\n      const message = confirmChanges();\n      return message ? confirm(message) : true;\n    });\n    window.onbeforeunload = function () {\n      return confirmChanges();\n    };\n\n    onUnmounted(() => {\n      store.workflow = null;\n      window.onbeforeunload = null;\n    });\n\n    return {\n      isLoaded,\n      isLoading,\n      isSaving,\n      isSaved,\n      get workflow() {\n        return store.workflow;\n      },\n      get lastEnabledState(){\n        return originalWorkflow?.enabled || store.workflow?.enabled;\n      },\n      save,\n      get currentActiveNodes() {\n        return store.currentActiveNodes;\n      },\n    };\n  },\n};\n</script>\n","import script from \"./WorkflowEditor.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowEditor.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport useLoading from '@/helpers/loading-effect';\nimport {onMounted, onUnmounted, ref} from 'vue';\nimport {WorkflowsRepository} from \"@/services/workflows-repository\";\n\nexport default {\n  name: 'WorkflowLog',\n  template: '#workflow-log-template',\n  props: {\n    uid: {\n      type: String,\n      required: true,\n    },\n    workflow: {\n      type: Object,\n      required: false,\n    },\n    node: {\n      type: Object,\n      required: false,\n    },\n  },\n  setup(props) {\n    const {\n      isLoading,\n      isLoaded,\n      startLoading,\n      stopLoading,\n    } = useLoading();\n\n    const {\n      isLoading: isRefreshing,\n      isLoaded: isRefreshed,\n      startLoading: startRefreshing,\n      stopLoading: stopRefreshing,\n    } = useLoading(null);\n\n    const log = ref([]);\n\n    const autoRefresh = ref(false);\n\n    const toggleAutoRefresh = () => {\n      autoRefresh.value = !autoRefresh.value;\n    }\n\n    const interval = setInterval(async () => {\n      if (autoRefresh.value) {\n        startRefreshing();\n        await fetch();\n        stopRefreshing()\n      }\n    }, 5 * 1000)\n\n    const fetch = async () => {\n      log.value = await WorkflowsRepository.getWorkflowLog(props.uid, props.node?.uid);\n    };\n\n    onMounted(async () => {\n      startLoading();\n      await fetch();\n      stopLoading();\n    });\n\n    onUnmounted(() => clearInterval(interval));\n\n    const levelTextColors = {\n      info: 'text-info',\n      warn: 'text-warning',\n      error: 'text-danger',\n      debug: 'text-secondary',\n      success: 'text-success',\n    };\n\n    const levelBackgroundColors = {\n      info: 'bg-info-light',\n      warn: 'bg-warning-light',\n      error: 'bg-danger-light',\n      debug: 'bg-light',\n      success: 'bg-success-light',\n    };\n\n    return {\n      isLoaded,\n      isLoading,\n      log,\n      autoRefresh,\n      toggleAutoRefresh,\n      isRefreshing,\n      isRefreshed,\n      levelTextColors,\n      levelBackgroundColors\n    };\n  },\n};\n</script>\n","import script from \"./WorkflowLog.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowLog.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport {useStore} from \"@/helpers/store-effect\";\r\n\r\nexport default {\r\n  name: \"NotificationsCenter\",\r\n  template: '#notifications-center-template',\r\n  setup() {\r\n    const store = useStore();\r\n\r\n    return {\r\n      get notifications() {\r\n        return store.notifications;\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n","import script from \"./NotificationsCenter.vue?vue&type=script&lang=js\"\nexport * from \"./NotificationsCenter.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <textarea class=\"form-control form-control-sm\" rows=\"6\" ref=\"editor\" @blur=\"format\" autocomplete=\"off\"\r\n              spellcheck=\"false\" :placeholder=\"placeholder\"></textarea>\r\n    <span class=\"text-danger\" v-text=\"error\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {onMounted, ref, watch} from \"vue\";\r\n\r\nexport default {\r\n  name: \"JsonEditor\",\r\n  props: {\r\n    modelValue: String,\r\n    placeholder: String,\r\n    autoFocus: {type: Boolean, default: false},\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup(props, {emit}) {\r\n    const editor = ref(null);\r\n    const error = ref('');\r\n\r\n    onMounted(() => {\r\n      editor.value.value = props.modelValue || '';\r\n      editor.value.focus();\r\n    });\r\n\r\n    watch(() => props.modelValue, (value) => {\r\n      editor.value.value = value;\r\n    });\r\n\r\n    const format = () => {\r\n      error.value = '';\r\n\r\n      if (editor.value?.value) {\r\n        try {\r\n          let json = JSON.parse(editor.value.value);\r\n          editor.value.value = JSON.stringify(json, null, 2);\r\n        } catch (e) {\r\n          error.value = e.message;\r\n        }\r\n      }\r\n\r\n      emit('update:modelValue', editor.value?.value);\r\n    }\r\n\r\n    return {\r\n      editor,\r\n      format,\r\n      error\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./JsonEditor.vue?vue&type=template&id=6eeabb06\"\nimport script from \"./JsonEditor.vue?vue&type=script&lang=js\"\nexport * from \"./JsonEditor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"position-absolute bottom-0 end-0 m-5\" style=\"max-width: 400px\" v-if=\"isReviewModalVisible\">\r\n    <div class=\"rounded bg-white shadow-lg py-4 px-5 border-top border-5 border-primary\">\r\n      <div class=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <button @click=\"postponeReviewModal()\"\r\n                class=\"btn btn-sm btn-close position-absolute top-0 end-0 me-3 mt-3\"></button>\r\n        <div class=\"fs-3 text-warning mb-3\"><span class=\"material-icons\">star_rate</span><span\r\n            class=\"material-icons\">star_rate</span><span\r\n            class=\"material-icons\">star_rate</span><span\r\n            class=\"material-icons\">star_rate</span><span\r\n            class=\"material-icons\">star_rate</span>\r\n        </div>\r\n        <p class=\"text-center text-muted mb-4\">Help us spread the word and motivate the team\r\n          behind Mantiq to deliver more!</p>\r\n        <a target=\"_blank\"\r\n           href=\"https://wordpress.org/support/plugin/mantiq/reviews/?filter=5#new-post\"\r\n           class=\"btn btn-primary\"\r\n           @click=\"collectReviewModal()\">Write a Review</a>\r\n        <button class=\"btn btn-sm text-muted mt-2\" tabindex=\"0\" @click=\"postponeReviewModal()\">Maybe later</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive} from \"vue\";\r\nimport * as deepmerge from 'deepmerge';\r\n\r\nexport default {\r\n  name: \"Reminders\",\r\n  setup() {\r\n    const STORE_KEY = 'mantiq_marketing';\r\n    const DAYS_TO_REVIEW = 2;\r\n\r\n    const retrieve = () => {\r\n      let state = deepmerge(\r\n          {\r\n            review: {\r\n              collected: false,\r\n              last_requested_at: null,\r\n            },\r\n          },\r\n          JSON.parse(localStorage.getItem(STORE_KEY) || '{}')\r\n      );\r\n\r\n      Object.defineProperty(state.review, 'visible', {\r\n        get: function () {\r\n          return !this.collected && this.last_requested_at && (Date.now() - this.last_requested_at) > (DAYS_TO_REVIEW * 24 * 60 * 60 * 1000)\r\n        },\r\n        enumerable: false\r\n      });\r\n\r\n      return state;\r\n    };\r\n    const persist = () => localStorage.setItem(STORE_KEY, JSON.stringify(state));\r\n    const state = reactive(retrieve());\r\n\r\n    const checkReviewState = () => {\r\n      if (state.review.last_requested_at === null) {\r\n        postponeReviewModal();\r\n      }\r\n    };\r\n    const postponeReviewModal = () => {\r\n      state.review.last_requested_at = Date.now();\r\n      persist();\r\n    };\r\n    const collectReviewModal = () => {\r\n      state.review.collected = true;\r\n      state.review.last_requested_at = Date.now();\r\n      persist();\r\n    }\r\n\r\n    checkReviewState();\r\n\r\n    return {\r\n      postponeReviewModal,\r\n      collectReviewModal,\r\n      get isReviewModalVisible() {\r\n        return state.review.visible;\r\n      }\r\n    };\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Reminders.vue?vue&type=template&id=3a054d62\"\nimport script from \"./Reminders.vue?vue&type=script&lang=js\"\nexport * from \"./Reminders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport WorkflowsListing from '@/components/workflows/WorkflowsListing';\nimport WorkflowEditorCanvas from '@/components/workflows/WorkflowEditorCanvas';\nimport WorkflowEditor from '@/components/workflows/WorkflowEditor';\nimport WorkflowLog from '@/components/workflows/WorkflowLog';\nimport NotificationsCenter from \"@/components/common/NotificationsCenter\";\nimport JsonEditor from \"@/components/common/JsonEditor\";\nimport Reminders from \"@/components/misc/Reminders\";\n\nexport default {\n  name: 'App',\n  template: '#app-template',\n  components: {\n    WorkflowsListing,\n    WorkflowLog,\n    WorkflowEditor,\n    WorkflowEditorCanvas,\n    NotificationsCenter,\n    Reminders,\n    JsonEditor\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"styles/core\";\n</style>\n","import script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2625521d&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <keep-alive>\n    <div>\n      <slot :errors=\"errors\"></slot>\n    </div>\n  </keep-alive>\n</template>\n\n<script>\nimport {computed, inject} from 'vue';\n\nexport default {\n  name: 'ErrorWrapper',\n  props: {\n    group: {\n      type: String,\n    },\n  },\n  setup(props) {\n    const node = inject('node');\n    const errors = computed(() => node.errors.get(props.group));\n\n    return {\n      node,\n      errors,\n    };\n  },\n};\n</script>\n","import { render } from \"./ErrorWrapper.vue?vue&type=template&id=2a2a5f10\"\nimport script from \"./ErrorWrapper.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorWrapper.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport { slugify } from '@/helpers/strings';\nimport { Type } from '@/models/type';\n\nexport default {\n  name: 'ParametersComposer',\n  template: '#parameters-composer-template',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n    parameters: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const newParameterTemplate = () => ({\n      id: '',\n      name: '',\n      type: 'string',\n      required: false,\n      validations: {},\n    });\n\n    const form = {\n      parameter: newParameterTemplate(),\n    };\n\n    const addParameter = () => {\n      form.parameter.required = form.parameter.name.indexOf('*') !== -1;\n      form.parameter.name = form.parameter.name.trim().replaceAll('*', '');\n      form.parameter.id = slugify(form.parameter.name, '_');\n      if (!form.parameter.id) {\n        return;\n      }\n      props.parameters[form.parameter.id] = form.parameter;\n      form.parameter.type = Type[form.parameter.type]();\n\n      form.parameter = newParameterTemplate();\n    };\n\n    const removeParameter = (parameter) => {\n      delete props.parameters[parameter];\n    };\n\n    return {\n      form,\n      removeParameter,\n      addParameter,\n    };\n  },\n};\n</script>\n","import script from \"./ParametersComposer.vue?vue&type=script&lang=js\"\nexport * from \"./ParametersComposer.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from '@/helpers/store-effect';\nimport ActionSettings from '@/components/workflows/settings/ActionSettings';\nimport AssignSettings from '@/components/workflows/settings/AssignSettings';\nimport ConditionSettings from '@/components/workflows/settings/ConditionSettings';\nimport ConditionBranchSettings from '@/components/workflows/settings/ConditionBranchSettings';\nimport TriggerSettings from '@/components/workflows/settings/TriggerSettings';\nimport OutputsViewer from '@/components/workflows/common/OutputsViewer';\nimport ErrorsViewer from '@/components/workflows/common/ErrorsViewer';\nimport ErrorWrapper from '@/components/workflows/common/ErrorWrapper';\nimport ParametersComposer from '@/components/workflows/common/ParametersComposer';\nimport { computed, provide } from 'vue';\n\nexport default {\n  name: 'WorkflowNodeSettings',\n  template: '#workflow-node-settings-template',\n  props: {\n    nodeUid: {\n      type: String,\n      required: true,\n    },\n    workflow: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props) {\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n\n    const tab = computed(() => route.query.tab || 'settings');\n    const node = props.workflow.get_node_by_uid(props.nodeUid);\n\n    if (!node) {\n      router.replace({\n        name: 'editor',\n        params: { uid: props.workflow.uid },\n      });\n      return {};\n    }\n\n    store.currentActiveNodes = [props.nodeUid];\n    provide('node', node);\n\n    return {\n      node,\n      tab,\n    };\n  },\n  components: {\n    ActionSettings,\n    AssignSettings,\n    ConditionSettings,\n    ConditionBranchSettings,\n    TriggerSettings,\n    OutputsViewer,\n    ErrorsViewer,\n    ErrorWrapper,\n    ParametersComposer,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import script from \"./WorkflowNodeSettings.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowNodeSettings.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport {ref} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {useConfig} from \"@/helpers/config-effect\";\r\nimport {useStore} from \"@/helpers/store-effect\";\r\nimport useNotifications from \"@/helpers/notify-effect\";\r\nimport {Workflow} from \"@/models/workflow\";\r\n\r\nexport default {\r\n  name: 'WorkflowImport',\r\n  template: '#workflow-import-template',\r\n  setup() {\r\n    const workflow = ref('');\r\n    const dragAndDrop = ref(false);\r\n    const router = useRouter();\r\n    const config = useConfig();\r\n    const store = useStore();\r\n    const {notify} = useNotifications();\r\n\r\n    const close = () => {\r\n      router.push({path: '../'});\r\n    };\r\n\r\n    const process = () => {\r\n      let importedWorkflow = new Workflow({...config.workflow.defaults, ...(JSON.parse(workflow.value) || {})});\r\n      importedWorkflow = importedWorkflow.duplicate();\r\n      importedWorkflow.name += ' (Imported)';\r\n\r\n      store.workflow = importedWorkflow;\r\n\r\n      notify('Import', 'The workflow has been imported.', 'success')\r\n\r\n      router.push({\r\n        name: 'editor',\r\n        params: {\r\n          uid: importedWorkflow.uid,\r\n        },\r\n      });\r\n    };\r\n\r\n    const dragEnter = () => {\r\n      dragAndDrop.value = true;\r\n    };\r\n\r\n    const dragLeave = () => {\r\n      dragAndDrop.value = false;\r\n    };\r\n\r\n    const drop = (event) => {\r\n      dragAndDrop.value = false;\r\n      const file = event.dataTransfer.files[0];\r\n\r\n      if (file.type !== 'application/json') {\r\n        alert('Not a valid JSON file');\r\n      }\r\n\r\n      file.text().then(content => workflow.value = content);\r\n    };\r\n\r\n    return {\r\n      close,\r\n      process,\r\n      workflow,\r\n      dragEnter,\r\n      dragLeave,\r\n      drop,\r\n      dragAndDrop\r\n    };\r\n  }\r\n}\r\n</script>\r\n","import script from \"./WorkflowImport.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowImport.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"modal-backdrop fade show\"></div>\r\n  <div class=\"modal fade show d-block\"\r\n       @click.self=\"close\"\r\n       @keyup.esc=\"close\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n      <div class=\"modal-content shadow-lg border-0\">\r\n        <div class=\"modal-header border-0 px-4 bg-primary-light\">\r\n          <h5 class=\"modal-title\">What's New in Mantiq</h5>\r\n          <button @click=\"close\" type=\"button\" class=\"btn-close\"></button>\r\n        </div>\r\n        <div class=\"modal-body p-0\">\r\n          <!-- 1.4 -->\r\n          <details class=\"p-3\" open>\r\n            <summary class=\"d-flex align-items-center\">September 2022 <span\r\n                class=\"badge rounded-pill bg-dark ms-auto px-2 fw-normal\">Version 1.4</span>\r\n            </summary>\r\n            <div class=\"mt-3 p-3 rounded border bg-primary-light\">\r\n              <h5>New: Templates</h5>\r\n              <p class=\"m-0\">Get started in no time thanks to a set of prebuilt, bundeled workflows.</p>\r\n            </div>\r\n            <div class=\"mt-3 p-3 rounded border\">\r\n              <h5>Other changes</h5>\r\n              <ul class=\"small m-0 px-3\">\r\n                <li>Triggers API updated to allow filtering and custom setup.</li>\r\n                <li>The user interface has been rearranged to provide intuitive experience.</li>\r\n              </ul>\r\n            </div>\r\n          </details>\r\n          <!-- 1.3 -->\r\n          <details class=\"p-3 border-top\">\r\n            <summary class=\"d-flex align-items-center\">August 2022<span\r\n                class=\"badge rounded-pill bg-dark ms-auto px-2 fw-normal\">Version 1.3</span>\r\n            </summary>\r\n            <div class=\"mt-3 p-3 rounded border bg-primary-light\">\r\n              <h5>New action: HTTP Request</h5>\r\n              <p class=\"m-0\">A very useful action has been introduced: Execute an HTTP request.</p>\r\n            </div>\r\n            <div class=\"mt-3 p-3 rounded border\">\r\n              <h5>Other changes</h5>\r\n              <ul class=\"small m-0 px-3\">\r\n                <li>Enhance \"Send Email\" action: set from, cc, bcc, reply to and more.</li>\r\n                <li>The list of actions and events is now searchable.</li>\r\n              </ul>\r\n            </div>\r\n          </details>\r\n          <!-- 1.2 -->\r\n          <details class=\"p-3 border-top\">\r\n            <summary class=\"d-flex align-items-center\">December 2021 <span\r\n                class=\"badge rounded-pill bg-dark ms-auto px-2 fw-normal\">Version 1.2</span></summary>\r\n            <div class=\"mt-3 p-3 rounded border bg-primary-light\">\r\n              <h5>Slack integration</h5>\r\n              <p class=\"m-0\">Send messages to your Slack channels, directly from Mantiq.</p>\r\n              <a class=\"btn btn-sm btn-primary mt-2\" href=\"https://wordpress.org/plugins/mantiq-integration-for-slack/\"\r\n                 target=\"_blank\">Get Slack Integration</a>\r\n            </div>\r\n            <div class=\"mt-3 p-3 rounded border\">\r\n              <h5>Other changes</h5>\r\n              <ul class=\"small m-0 px-3\">\r\n                <li>Improve workflow editor UX.</li>\r\n                <li>Add integrations page.</li>\r\n                <li>Fix some bugs in core actions.</li>\r\n              </ul>\r\n            </div>\r\n          </details>\r\n          <!-- 1.1 -->\r\n          <details class=\"p-3 border-top\">\r\n            <summary class=\"d-flex align-items-center\">November 2021 <span\r\n                class=\"badge rounded-pill bg-dark ms-auto px-2 fw-normal\">Version 1.1</span></summary>\r\n            <div class=\"mt-3 p-3 rounded border bg-primary-light\">\r\n              <h5>WooCommerce integration</h5>\r\n              <p class=\"m-0\">Now you can automate your WooCommerce shop using different events and\r\n                actions.</p>\r\n              <a class=\"btn btn-sm btn-primary mt-2\"\r\n                 href=\"https://wordpress.org/plugins/mantiq-integration-for-woocommerce/\" target=\"_blank\">Get\r\n                WooCommerce Integration</a>\r\n            </div>\r\n            <div class=\"mt-3 p-3 rounded border bg-primary-light\">\r\n              <h5>New utilities for developers</h5>\r\n              <p class=\"m-0\">Two new actions are available for developers: encode output as JSON string and write to\r\n                log.</p>\r\n            </div>\r\n            <div class=\"mt-3 p-3 rounded border\">\r\n              <h5>Other changes</h5>\r\n              <ul class=\"small m-0 px-3\">\r\n                <li>Improve underlaying APIs to support more use cases.</li>\r\n                <li>Improve error messages.</li>\r\n                <li>Fix some bugs in core actions.</li>\r\n              </ul>\r\n            </div>\r\n          </details>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div hidden class=\"position-absolute top-0 end-0 bottom-0 start-0 bg-white\" @keyup.esc=\"close\">\r\n    <button class=\"btn border btn-inline p-2 rounded-circle position-absolute top-0 end-0 m-3\" @click=\"close\">\r\n      <span class=\"material-icons\">close</span>\r\n    </button>\r\n    <div class=\"container p-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-8\">\r\n          <h3 class=\"mb-5 pb-3 border-bottom\">What's New in Mantiq</h3>\r\n          <h6 class=\"mb-3\">November 2021</h6>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>New</strong></div>\r\n            <div class=\"col\">\r\n              <p>WooCommerce integration. Now you can automate your WooCommerce shop using different events and\r\n                actions.</p>\r\n              <p>Filter log by type.</p>\r\n              <p>Encode output as JSON string and write to log actions for developers.</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>Improvements</strong></div>\r\n            <div class=\"col\">\r\n              <p>Underlaying APIs to enable more integrations and support more use cases.</p>\r\n              <p>Error messages are more clear now.</p>\r\n              <p>Encode output as JSON string and write to log actions for developers.</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>Fixes</strong></div>\r\n            <div class=\"col\">\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"WhatsNew\",\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const close = () => {\r\n      router.push({path: '../'});\r\n    };\r\n\r\n    return {\r\n      close,\r\n    };\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./WhatsNew.vue?vue&type=template&id=0fc90dd3\"\nimport script from \"./WhatsNew.vue?vue&type=script&lang=js\"\nexport * from \"./WhatsNew.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal-backdrop fade show\"></div>\r\n  <div class=\"modal fade show d-block\"\r\n       @click.self=\"close\"\r\n       @keyup.esc=\"close\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n      <div class=\"modal-content shadow-lg border-0\">\r\n        <div class=\"modal-header border-0 px-4 bg-primary-light\">\r\n          <h5 class=\"modal-title\">Available Integrations for Mantiq</h5>\r\n          <button @click=\"close\" type=\"button\" class=\"btn-close\"></button>\r\n        </div>\r\n        <div class=\"modal-body p-0\">\r\n          <div class=\"border-top row g-0 p-4\">\r\n            <div class=\"col-4 pe-4\">\r\n              <img class=\"ratio ratio-1x1\"\r\n                   src=\"https://ps.w.org/mantiq-integration-for-woocommerce/assets/icon-256x256.png\" alt=\"WooCommerce\">\r\n            </div>\r\n            <div class=\"col\">\r\n              <h4>WooCommerce</h4>\r\n              <p class=\"text-muted\">Automate your WooCommerce shop using different actions and events.</p>\r\n              <a rel=\"noopener\" target=\"_blank\" href=\"https://wordpress.org/plugins/mantiq-integration-for-woocommerce\"\r\n                 class=\"btn btn-sm btn-outline-primary\">Get <span class=\"material-icons ms-1\">open_in_new</span></a>\r\n            </div>\r\n          </div>\r\n          <div class=\"border-top row g-0 p-4\">\r\n            <div class=\"col-4 pe-4\">\r\n              <img class=\"ratio ratio-1x1\"\r\n                   src=\"https://ps.w.org/mantiq-integration-for-slack/assets/icon-256x256.png\" alt=\"Slack\">\r\n            </div>\r\n            <div class=\"col\">\r\n              <h4>Slack</h4>\r\n              <p class=\"text-muted\">Send messages from your workflows to your Slack channels.</p>\r\n              <a rel=\"noopener\" target=\"_blank\" href=\"https://wordpress.org/plugins/mantiq-integration-for-slack\"\r\n                 class=\"btn btn-sm btn-outline-primary\">Get <span class=\"material-icons ms-1\">open_in_new</span></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div hidden class=\"position-absolute top-0 end-0 bottom-0 start-0 bg-white\" @keyup.esc=\"close\">\r\n    <button class=\"btn border btn-inline p-2 rounded-circle position-absolute top-0 end-0 m-3\" @click=\"close\">\r\n      <span class=\"material-icons\">close</span>\r\n    </button>\r\n    <div class=\"container p-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-8\">\r\n          <h3 class=\"mb-5 pb-3 border-bottom\">What's New in Mantiq</h3>\r\n          <h6 class=\"mb-3\">November 2021</h6>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>New</strong></div>\r\n            <div class=\"col\">\r\n              <p>WooCommerce integration. Now you can automate your WooCommerce shop using different events and\r\n                actions.</p>\r\n              <p>Filter log by type.</p>\r\n              <p>Encode output as JSON string and write to log actions for developers.</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>Improvements</strong></div>\r\n            <div class=\"col\">\r\n              <p>Underlaying APIs to enable more integrations and support more use cases.</p>\r\n              <p>Error messages are more clear now.</p>\r\n              <p>Encode output as JSON string and write to log actions for developers.</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-2 text-end border-end\"><strong>Fixes</strong></div>\r\n            <div class=\"col\">\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"Integrations\",\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const close = () => {\r\n      router.push({path: '../'});\r\n    };\r\n\r\n    return {\r\n      close,\r\n    };\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Integrations.vue?vue&type=template&id=b232ceb4\"\nimport script from \"./Integrations.vue?vue&type=script&lang=js\"\nexport * from \"./Integrations.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import WorkflowsListing from '@/components/workflows/WorkflowsListing';\nimport WorkflowEditor from '@/components/workflows/WorkflowEditor';\nimport WorkflowLog from '@/components/workflows/WorkflowLog';\nimport WorkflowNodeSettings from '@/components/workflows/WorkflowNodeSettings';\nimport WorkflowImport from \"@/components/workflows/WorkflowImport\";\nimport WhatsNew from \"@/components/misc/WhatsNew\";\nimport Integrations from \"@/components/misc/Integrations\";\n\nexport const ROUTES = [\n    {\n        path: '',\n        component: WorkflowsListing,\n        children: [\n            {\n                name: 'import',\n                path: 'import',\n                props: true,\n                component: WorkflowImport\n            },\n            {\n                name: 'what-is-new',\n                path: 'what-is-new',\n                props: true,\n                component: WhatsNew\n            },\n            {\n                name: 'integrations',\n                path: 'integrations',\n                props: true,\n                component: Integrations\n            }\n        ]\n    },\n    {\n        name: 'editor',\n        path: '/workflow/:uid',\n        component: WorkflowEditor,\n        props: true,\n        children: [\n            {\n                name: 'viewLog',\n                path: 'logs',\n                props: true,\n                component: WorkflowLog,\n            },\n            {\n                name: 'nodeSettings',\n                path: 'node/:nodeUid',\n                props: true,\n                component: WorkflowNodeSettings,\n            },\n        ],\n    },\n];\n","import {Model} from \"@/models/model\";\nimport {reactive} from \"vue\";\nimport {restApiHttpClient} from \"@/helpers/rest-api-http-client\";\nimport {useStore} from '@/helpers/store-effect';\n\nconst store = useStore();\n\nexport class Connection extends Model {\n\n}\n\nexport class ConnectionsService {\n    constructor() {\n        this.providers = reactive({});\n        for (const provider in store.connections) {\n            for (const connectionUid in store.connections[provider]) {\n                store.connections[provider][connectionUid] = new Connection(store.connections[provider][connectionUid]);\n            }\n        }\n        this.connections = reactive(store.connections);\n    }\n\n    registerProvider(provider) {\n        this.providers[provider.id] = provider;\n        this.connections[provider.id] = this.connections[provider.id] || reactive({});\n    }\n\n    getProvider(providerId) {\n        return this.providers[providerId] || null;\n    }\n\n    connectWithProvider(providerId) {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const provider = this.getProvider(providerId);\n                const connectionDefination = await provider.connect();\n                const connection = await this.persistConnection(provider, connectionDefination).then(response => new Connection(response.data));\n                this.connections[providerId][connection.uid] = connection;\n                resolve(connection);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    getConnections(providerId) {\n        return this.connections[providerId] || {};\n    }\n\n    getConnection(providerId) {\n        return this.connections[providerId] || {};\n    }\n\n    async persistConnection(provider, connection) {\n        return await restApiHttpClient.post(`connections`, {provider: provider.id, connection});\n    }\n}\n\nconst connectionsService = new ConnectionsService();\n\nexport function useConnections() {\n    return connectionsService;\n}\n","<template>\r\n  <div class=\"org-tree-container\">\r\n    <div class=\"org-tree\" :class=\"{horizontal, collapsable}\">\r\n      <BlocksNode\r\n          :data=\"data\"\r\n          :parent=\"data\"\r\n          :props=\"props\"\r\n          :index=\"0\"\r\n          :horizontal=\"horizontal\"\r\n          :label-width=\"labelWidth\"\r\n          :collapsable=\"collapsable\"\r\n          :render-content=\"renderContent\"\r\n          :label-class-name=\"labelClassName\"\r\n          @node-expand=\"(e, data,nodeContext) => $emit('node-expand', e, data,nodeContext)\"\r\n          @node-focus=\"(e, data,nodeContext) => $emit('node-focus', e, data,nodeContext)\"\r\n          @node-click=\"(e, data,nodeContext) => $emit('node-click', e, data,nodeContext)\"\r\n          @node-mouseover=\"(e, data,nodeContext) => $emit('node-mouseover', e, data,nodeContext)\"\r\n          @node-mouseout=\"(e, data,nodeContext) => $emit('node-mouseout', e, data,nodeContext)\">\r\n        <template #node=\"{data, context, parent, index}\">\r\n          <slot name=\"node\" :data=\"data\" :context=\"context\" :parent=\"parent\" :index=\"index\"></slot>\r\n        </template>\r\n      </BlocksNode>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport BlocksNode from '@/components/tree/BlocksNode';\r\n\r\nexport default {\r\n  name: 'blocks-tree',\r\n  components: {\r\n    BlocksNode,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    props: {\r\n      type: Object,\r\n      default: () => ({\r\n        label: 'label',\r\n        expand: 'expand',\r\n        children: 'children',\r\n        key: 'id',\r\n      }),\r\n    },\r\n    horizontal: Boolean,\r\n    collapsable: Boolean,\r\n    renderContent: Function,\r\n    labelWidth: [String, Number],\r\n    labelClassName: [Function, String],\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div :class=\"nodeClass\">\r\n    <div class=\"org-tree-node-label\">\r\n      <div :class=\"innerLabelClass\" :style=\"{width:labelWidth}\"\r\n           @click=\"(e)=>$emit('node-click',e,data,nodeContext)\"\r\n           @mouseout=\"(e)=>$emit('node-mouseout',e,data,nodeContext)\"\r\n           @mouseover=\"(e)=>$emit('node-mouseover',e,data,nodeContext)\"\r\n           @focus=\"(e)=>$emit('node-focus',e,data,nodeContext)\">\r\n        <slot name=\"node\" :data=\"data\" :context=\"nodeContext\" :parent=\"parent\" :index=\"index\">\r\n          <span v-if=\"!renderContent\">{{ data[props.label] }}</span>\r\n          <span v-else>{{ renderContent(data) }}</span>\r\n        </slot>\r\n        <span v-if=\"collapsable && !isLeaf\" :class=\"nodeExpandBtnClass\" @click.stop=\"onExpandBtnClick\"></span>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"(collapsable && expanded && !isLeaf) || (!collapsable && !isLeaf)\" class=\"org-tree-node-children\">\r\n      <blocks-node v-for=\"(child, childIndex) in data[props.children]\"\r\n                   :key=\"nodeKey(child)\"\r\n                   :parent=\"data\"\r\n                   :index=\"childIndex\"\r\n                   :data=\"child\"\r\n                   :props=\"props\"\r\n                   :collapsable=\"collapsable\"\r\n                   :renderContent=\"renderContent\"\r\n                   :labelWidth=\"labelWidth\"\r\n                   :labelClassName=\"labelClassName\"\r\n                   @node-expand=\"(e, data,context) => $emit('node-expand', e, data,context)\"\r\n                   @node-focus=\"(e, data,context) => $emit('node-focus', e, data,context)\"\r\n                   @node-click=\"(e, data,context) => $emit('node-click', e, data,context)\"\r\n                   @node-mouseover=\"(e, data,context) => $emit('node-mouseover', e, data,context)\"\r\n                   @node-mouseout=\"(e, data,context) => $emit('node-mouseout', e, data,context)\">\r\n        <template #node=\"{data,context,parent,index}\">\r\n          <slot name=\"node\" :data=\"data\" :context=\"context\" :parent=\"parent\" :index=\"index\"></slot>\r\n        </template>\r\n      </blocks-node>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {computed, ref} from 'vue';\r\n\r\nexport default {\r\n  name: 'blocks-node',\r\n\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    parent: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    props: {\r\n      type: Object,\r\n      default: () => ({\r\n        label: 'label',\r\n        expand: 'expand',\r\n        children: 'children',\r\n        key: 'id',\r\n      }),\r\n    },\r\n    collapsable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    renderContent: Function,\r\n    labelWidth: [String, Number],\r\n    labelClassName: [String, Function],\r\n  },\r\n\r\n  setup(props, {\r\n    slots,\r\n    attrs,\r\n    emit,\r\n    expose,\r\n  }) {\r\n    let isLeaf = computed(() => Array.isArray(props.data[props.props.children]) && props.data[props.props.children].length > 0 ? false : true);\r\n    let labelWidth = computed(() => props.labelWidth ? (typeof (props.labelWidth) == 'number' ? `${props.labelWidth}px` : props.labelWidth) : 'auto');\r\n    let expanded = ref(props.data[props.props.expand] || true);\r\n\r\n    let nodeClass = computed(() => {\r\n      return {\r\n        'org-tree-node': true,\r\n        'is-leaf': isLeaf.value,\r\n        'collapsed': !isLeaf.value && props.collapsable && !expanded.value,\r\n      };\r\n    });\r\n\r\n    let innerLabelClass = computed(() => {\r\n      let labelClassName = typeof props.labelClassName == 'function' ? props.labelClassName(props.data) : props.labelClassName;\r\n\r\n      return {\r\n        'org-tree-node-label-inner': true,\r\n        [labelClassName]: !!labelClassName,\r\n      };\r\n    });\r\n\r\n    let nodeExpandBtnClass = computed(() => {\r\n      return {\r\n        'org-tree-node-btn': true,\r\n        'expanded': !!expanded.value,\r\n      };\r\n    });\r\n\r\n    const toggleExpand = () => {\r\n      expanded.value = !expanded.value;\r\n    };\r\n\r\n    const onExpandBtnClick = (e) => {\r\n      toggleExpand();\r\n      emit('node-expand', e, props.data, nodeContext);\r\n    };\r\n\r\n    const nodeContext = {\r\n      isExpanded: () => expanded.value,\r\n      toggleExpand,\r\n    };\r\n\r\n    const nodeKey = (child) => {\r\n      var key = child[props.props.key];\r\n\r\n      if (typeof key === 'function') {\r\n        return key(child);\r\n      }\r\n      return key;\r\n    };\r\n\r\n    return {\r\n      nodeClass,\r\n      innerLabelClass,\r\n      isLeaf,\r\n      nodeExpandBtnClass,\r\n      onExpandBtnClick,\r\n      labelWidth,\r\n      expanded,\r\n      data: props.data,\r\n      parent: props.parent,\r\n      index: props.index,\r\n      nodeContext,\r\n      nodeKey,\r\n    };\r\n  },\r\n\r\n};\r\n\r\n</script>\r\n","import { render } from \"./BlocksNode.vue?vue&type=template&id=c9936f54\"\nimport script from \"./BlocksNode.vue?vue&type=script&lang=js\"\nexport * from \"./BlocksNode.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BlocksTree.vue?vue&type=template&id=3e4ae382\"\nimport script from \"./BlocksTree.vue?vue&type=script&lang=js\"\nexport * from \"./BlocksTree.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {provide, ref} from \"vue\";\r\nimport {useConfig} from \"@/helpers/config-effect\";\r\nimport {Node} from \"@/models/node\";\r\nimport {useStore} from \"@/helpers/store-effect\";\r\n\r\nexport default {\r\n  name: 'VariableFinder',\r\n  template: '#variable-finder-template',\r\n  props: {\r\n    workflow: {type: Object, required: true},\r\n  },\r\n  setup(props) {\r\n    const visible = ref(false);\r\n    const search = ref('');\r\n    const searchInput = ref(null);\r\n    const config = useConfig();\r\n    const store = useStore();\r\n\r\n    let inputTriggeredBy;\r\n    let currentNode = null;\r\n    let currentlyUsedOutputs = [];\r\n\r\n    const show = (fromNode, fromInput, single = false) => {\r\n      visible.value = true;\r\n      currentNode = fromNode;\r\n      fromInput.single = single;\r\n      inputTriggeredBy = fromInput;\r\n      currentlyUsedOutputs = fromInput.value ? fromInput.value.match(/(\\{.*?\\})/g)?.map(match => match.replace('{', '').replace('}', '')) || [] : [];\r\n\r\n      setTimeout(() => searchInput.value.focus(), 100);\r\n    }\r\n\r\n    const hide = () => {\r\n      visible.value = false;\r\n      inputTriggeredBy?.focus();\r\n      inputTriggeredBy = null;\r\n      currentlyUsedOutputs = [];\r\n    }\r\n\r\n    const isOutputUsed = (output) => {\r\n      return currentlyUsedOutputs.indexOf(output.path) !== -1;\r\n    };\r\n\r\n    const useOutput = (node, output) => {\r\n      if (inputTriggeredBy.single) {\r\n        inputTriggeredBy.value = output.ref;\r\n      } else {\r\n        inputTriggeredBy.value += (inputTriggeredBy.value.length && !inputTriggeredBy.value.endsWith(' ') ? ' ' : '') + output.ref;\r\n      }\r\n      inputTriggeredBy.dispatchEvent(new Event('input'));\r\n      hide();\r\n    }\r\n\r\n    const outputFilter = (output) => output.name\r\n        .concat(' ', output.id).toLocaleLowerCase()\r\n        .concat(' ', output.subOutputs?.map(subOutput => subOutput.name.concat(' ', output.id).toLocaleLowerCase()) || '')\r\n        .includes(search.value.toLocaleLowerCase());\r\n\r\n    const nodeFilter = (node) => {\r\n      return node.outputs.filter(outputFilter).length;\r\n    };\r\n\r\n    const getAvailableNodes = () => {\r\n      let nodes = [new Node({\r\n        type: 'global',\r\n        properties: {\r\n          name: ''\r\n        },\r\n        _workflow: store.workflow\r\n      })];\r\n\r\n      let node = currentNode;\r\n      while (node.parentNode) {\r\n        node = node.parentNode || false;\r\n        node && nodes.push(node);\r\n      }\r\n\r\n      return search.value ? nodes.reverse().filter(nodeFilter) : nodes.reverse();\r\n    };\r\n\r\n    provide('isOutputUsed', isOutputUsed);\r\n    provide('outputFilter', outputFilter);\r\n\r\n    return {\r\n      search,\r\n      outputFilter,\r\n      get nodes() {\r\n        return getAvailableNodes();\r\n      },\r\n      visible,\r\n      show,\r\n      hide,\r\n      useOutput,\r\n      searchInput,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$root.variableFinder = this;\r\n  }\r\n}\r\n</script>\r\n","import script from \"./VariableFinder.vue?vue&type=script&lang=js\"\nexport * from \"./VariableFinder.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","function checkKeystore(event) {\r\n    if (event.key === ' ' && event.ctrlKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.instance.$root.variableFinder.show(this.instance.node, event.target);\r\n    }\r\n}\r\n\r\nexport const VariableFinderTrigger = {\r\n    beforeMount(el, binding) {\r\n        el.addEventListener('keydown', checkKeystore.bind(binding), false);\r\n    }\r\n}\r\n","<template>\r\n  <div class=\"reference-input\">\r\n    <slot></slot>\r\n    <div class=\"reference-input-tip\"><kbd>Ctrl + Space</kbd> Insert variables</div>\r\n    <button class=\"reference-input-toggle\" @click=\"open\"><span class=\"material-icons\">auto_fix_high</span></button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {inject} from \"vue\";\r\n\r\nexport default {\r\n  name: 'ReferenceInputHelper',\r\n  props: {\r\n    single: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  setup(props) {\r\n    const node = inject('node');\r\n    return {...props, node};\r\n  },\r\n  methods: {\r\n    open() {\r\n      this.$root.variableFinder.show(this.node, this.$el.querySelector('input, textarea, select'), this.single);\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ReferenceInputHelper.vue?vue&type=template&id=ddf47c52\"\nimport script from \"./ReferenceInputHelper.vue?vue&type=script&lang=js\"\nexport * from \"./ReferenceInputHelper.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {Output} from \"@/models/output\";\r\nimport {computed, inject, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: 'VariableFinderOutput',\r\n  template: '#variable-finder-output-template',\r\n  props: {\r\n    output: {type: Output, required: true},\r\n  },\r\n  emits: ['use'],\r\n  setup(props) {\r\n    const isOutputUsed = inject('isOutputUsed');\r\n    const outputFilter = inject('outputFilter');\r\n    const expanded = ref(false);\r\n    const toggle = () => expanded.value = !expanded.value;\r\n    const transformOutput = (func, output) => {\r\n      return new Output({...output, _transform: func});\r\n    }\r\n\r\n    return {\r\n      used: isOutputUsed(props.output),\r\n      toggle,\r\n      expanded,\r\n      transformOutput,\r\n      filteredSubOutputs: computed(() => props.output.subOutputs.filter(outputFilter))\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import script from \"./VariableFinderOutput.vue?vue&type=script&lang=js\"\nexport * from \"./VariableFinderOutput.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <slot v-bind=\"{items, add, remove, form}\"></slot>\r\n</template>\r\n\r\n<script>\r\nimport {reactive} from \"vue\";\r\n\r\nexport default {\r\n  name: \"Repeatable\",\r\n  props: {\r\n    model: {type: Object, required: true},\r\n    modelValue: {type: Array, required: true},\r\n  },\r\n  emits: ['update:modelValue', 'add'],\r\n  setup(props, {emit}) {\r\n    const items = reactive(props.modelValue || []);\r\n    let form;\r\n\r\n    const reset = () => {\r\n      form = reactive({...props.model});\r\n    };\r\n\r\n    const add = () => {\r\n      items.push(form);\r\n      emit('add', form);\r\n      sync();\r\n      reset();\r\n    };\r\n\r\n    const remove = (item) => {\r\n      items.splice(items.indexOf(item), 1);\r\n      sync();\r\n    };\r\n\r\n    const sync = () => {\r\n      emit('update:modelValue', items);\r\n    }\r\n\r\n    reset();\r\n\r\n    return {\r\n      get form(){\r\n        return form;\r\n      },\r\n      add,\r\n      remove,\r\n      items\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Repeatable.vue?vue&type=template&id=df86a5ac\"\nimport script from \"./Repeatable.vue?vue&type=script&lang=js\"\nexport * from \"./Repeatable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mohamed/Projects/mantiq/code/wp-content/plugins/mantiq/editor/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {useStore} from \"@/helpers/store-effect\";\r\nimport {ref, watch} from \"vue\";\r\nimport {useConnections} from \"@/helpers/connections-effect\";\r\nimport useLoading from \"@/helpers/loading-effect\";\r\n\r\nexport default {\r\n  name: \"ConnectionSelector\",\r\n  template: '#connection-selector-template',\r\n  props: {\r\n    provider: {type: String},\r\n    modelValue: String,\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup(props, {emit}) {\r\n    const store = useStore();\r\n    const modelValue = ref(props.modelValue);\r\n    const connections = useConnections();\r\n    const provider = connections.getProvider(props.provider);\r\n    const providerConections = connections.getConnections(props.provider);\r\n\r\n    const {\r\n      isLoading,\r\n      isLoaded,\r\n      startLoading,\r\n      stopLoading,\r\n    } = useLoading(null);\r\n\r\n    const connect = async () => {\r\n      startLoading();\r\n      try {\r\n        const connection = await connections.connectWithProvider(props.provider);\r\n      } finally {\r\n        stopLoading();\r\n      }\r\n    };\r\n\r\n    watch(() => modelValue.value, value => {\r\n      emit('update:modelValue', value);\r\n    });\r\n\r\n    return {\r\n      modelValue,\r\n      provider,\r\n      get connections() {\r\n        return Object.values(providerConections);\r\n      },\r\n      get connection() {\r\n        return providerConections[modelValue.value];\r\n      },\r\n      get isSelectedConnectionValid() {\r\n        return modelValue.value && !this.connection?.expired_at;\r\n      },\r\n      isLoading,\r\n      connect\r\n    }\r\n  },\r\n}\r\n</script>\r\n","import script from \"./ConnectionSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectionSelector.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport {useStore} from \"@/helpers/store-effect\";\r\nimport {useConnections} from \"@/helpers/connections-effect\";\r\nimport useLoading from \"@/helpers/loading-effect\";\r\n\r\nexport default {\r\n  name: \"ConnectionInitializer\",\r\n  template: '#connection-initializer-template',\r\n  props: {\r\n    provider: {type: String},\r\n    compact: {type: Boolean, default: false},\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup(props, {emit}) {\r\n    const store = useStore();\r\n    const connections = useConnections();\r\n\r\n    const {\r\n      isLoading,\r\n      isLoaded,\r\n      startLoading,\r\n      stopLoading,\r\n    } = useLoading(null);\r\n\r\n    const connect = async () => {\r\n      startLoading();\r\n      try {\r\n        const connection = await connections.connectWithProvider(props.provider);\r\n      } finally {\r\n        stopLoading();\r\n      }\r\n    };\r\n\r\n    return {\r\n      provider: props.provider,\r\n      compact: props.compact,\r\n      isLoading,\r\n      connect\r\n    }\r\n  },\r\n}\r\n</script>\r\n","import script from \"./ConnectionInitializer.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectionInitializer.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {createApp} from 'vue/dist/vue.esm-bundler';\nimport App from './App.vue';\nimport {createRouter, createWebHashHistory} from 'vue-router';\nimport {ROUTES} from '@/routes';\nimport axios from 'axios';\nimport {getRelativeTime} from '@/helpers/datetime';\nimport {useStore} from '@/helpers/store-effect';\nimport {dragscrollNext} from 'vue-dragscroll';\nimport {useConfig} from '@/helpers/config-effect';\nimport {ConnectionProvider, useConnections} from '@/helpers/connections-effect';\nimport ErrorWrapper from '@/components/workflows/common/ErrorWrapper';\nimport draggable from 'vuedraggable';\nimport ErrorsViewer from '@/components/workflows/common/ErrorsViewer';\nimport OutputsViewer from '@/components/workflows/common/OutputsViewer';\nimport ParametersComposer from '@/components/workflows/common/ParametersComposer';\nimport BlocksTree from '@/components/tree/BlocksTree';\nimport BlocksNode from '@/components/tree/BlocksNode';\nimport VariableFinder from \"@/components/workflows/common/VariableFinder\";\nimport {VariableFinderTrigger} from \"@/directives/variable-finder-trigger\";\nimport ReferenceInputHelper from \"@/components/workflows/common/ReferenceInputHelper\";\nimport VariableFinderOutput from \"@/components/workflows/common/VariableFinderOutput\";\nimport NotificationsCenter from \"@/components/common/NotificationsCenter\";\nimport WorkflowLog from \"@/components/workflows/WorkflowLog\";\nimport JsonEditor from \"@/components/common/JsonEditor\";\nimport Repeatable from \"@/components/common/Repeatable\";\nimport ConnectionSelector from \"@/components/connections/ConnectionSelector\";\nimport ConnectionInitializer from \"@/components/connections/ConnectionInitializer\";\nimport Multiselect from '@vueform/multiselect'\nimport {restApiHttpClient} from \"@/helpers/rest-api-http-client\";\nimport * as vue from 'vue';\n\n// WP-Related\ndocument.body.classList.add('folded');\ndocument.getElementById('screen-meta').remove();\nwindow.addEventListener('load', () => document.getElementById('wpfooter').remove(), false);\n\n// Host\nconst host = document.querySelector('#mantiq');\n\n// Template\nconst template = host.querySelector('template');\ntemplate.content.append(document.querySelector('#material-icons-css').cloneNode());\ntemplate.content.append(document.querySelector('#app-css'));\n\n// Attach a ShadowDOM for isolation purposes\nhost.attachShadow({mode: 'open'}).append(template.content);\n\n// Remove template because we don't need it anymore\ntemplate.remove();\n\n// Get the app container\nconst appContainer = host.shadowRoot.querySelector('.app');\n\n// Main app\nconst app = createApp(App);\nwindow.Mantiq = app;\napp.vue = vue;\n// Helpers\n// Config\napp.config.globalProperties.$config = useConfig();\n// Store\napp.config.globalProperties.$store = useStore();\n// HTTP\napp.config.globalProperties.$http = axios;\n// REST\napp.config.globalProperties.$rest = restApiHttpClient;\n// Time\napp.config.globalProperties.$relativeTime = getRelativeTime;\n// Connections\napp.config.globalProperties.$connections = useConnections();\n\n// Directives\napp.directive('dragscroll', dragscrollNext);\napp.component('multiselect', Multiselect);\napp.component('blocks-tree', BlocksTree);\napp.component('blocks-node', BlocksNode);\napp.component('outputs-viewer', OutputsViewer);\napp.component('parameters-composer', ParametersComposer);\napp.component('errors-viewer', ErrorsViewer);\napp.component('error-wrapper', ErrorWrapper);\napp.component('workflow-log', WorkflowLog);\napp.component('repeatable', Repeatable);\napp.component('reference-input-helper', ReferenceInputHelper);\napp.component('notifications-center', NotificationsCenter);\napp.component('variable-finder', VariableFinder);\napp.component('variable-finder-output', VariableFinderOutput);\napp.directive('variable-finder-trigger', VariableFinderTrigger);\napp.component('draggable', draggable);\napp.component('json-editor', JsonEditor);\napp.component('connection-selector', ConnectionSelector);\napp.component('connection-initializer', ConnectionInitializer);\n\napp.Connections = {\n    ConnectionProvider\n};\n\naddEventListener('load', () => {\n    wp.hooks.doAction('init', app);\n\n    // Routing\n    const router = createRouter({\n        history: createWebHashHistory(),\n        routes: ROUTES,\n    });\n\n    app.use(router);\n\n    // Mount\n    app.instance = app.mount(appContainer);\n\n    wp.hooks.doAction('mounted', app, appContainer);\n});\n"],"sourceRoot":""}